{
  "id": "dc21b215-8726-4d82-99f0-ac9ba6222d26",
  "name": "FFH Reinsurance Contracts",
  "description": "Main Prompt (Production prompt — do not edit)",
  "blocks": [
    {
      "title": "GOAL",
      "body": "<document>\n{{ document }}\n</document>\n<goal>  \nExtract key data from the provided reinsurance contract document and output a final JSON object that strictly follows the defined schema.\n\nThe first step is to determine the contract structure and set the \"СontractStructure\" value at the top level of the JSON. Possible values:  \n- \"simple\" — the contract has no Layers or Sections; all data is extracted at the contract level.  \n- \"layered\" — the contract contains multiple Layers; each has its own limits, premiums, and other fields. No CoverageSections.  \n- \"sectioned\" — the contract is divided into CoverageSections each with its own values. No Layers.  \n- \"layered_with_sections\" — the contract has Layers, and each Layer contains its own internal CoverageSections.\n\nBased on the detected structure:  \n- Use Layers[] if only Layers are present.  \n- Use CoverageSections[] if only Sections are present.  \n- Use CoverageSections[] inside each Layer if both Layers and Sections exist.  \n- Never return both top-level Layers[] and top-level CoverageSections[] unless the structure explicitly requires it.А\n\nThe final JSON output must include:  \n- All required top-level fields: GeneralInformation, Limits, Premium, Deductions, Share, Instalments, Adjustments, Reinstatements. These must be present even if some values are null.  \n- One of the following structural arrays:  \n  - A top-level Layers[] array (for layered contracts),  \n  - A top-level CoverageSections[] array (for sectioned contracts),  \n  - CoverageSections[] nested inside each Layer (for layered_with_sections contracts).  \n- A centralized _links object for traceability.\n\nEach entry in _links must map to a JSON pointer path (e.g., /GeneralInformation/ContractName, /Layers/2/Cover) and contain:  \n- The page number where the value was found;  \n- A verbatim excerpt (2–4 sentences) from the document showing the value clearly.\n\nSpecial rules for CoverageSections:  \n- For top-level sections: use pointer paths like /CoverageSections/1/Cover.  \n- For nested sections inside Layers: use paths like /Layers/2/CoverageSections/1/Cover.  \n- All indices start from 1.\n\nIf a value is missing or unclear, return `null`, but still include the field. Never omit required fields. Never guess or fabricate values. The structure must always fully match the JSON schema.  \n</goal>",
      "comment": null
    },
    {
      "title": "Complexity Type Identification (Decision)",
      "body": "<steps> \nCONTRACT STRUCTURE TYPES IDENTIFICATION AND APPLICATION\n\nThere are four structural types of reinsurance contracts to handle:\n1. LAYERED\n2. SECTIONED\n3. LAYERED_WITH_SECTIONS\n4. SIMPLE\n\n\n1. \nLAYERED (layers only)\n\n   – The document is split into financial Layers  \n   – The word “Layer” (or equivalent, e.g. “First Excess”) must be explicitly present in the document  \n   – No structure may be classified as layered based on limits or formatting alone  \n   – No internal CoverageSections inside Layers  \n\n* Do not classify a contract as \"layered\" unless the document includes at least two clearly labeled Layers  (e.g. “Layer 1” and “Layer 2”, or “First Excess” and “Second Excess”)  \n* The presence of financial values (e.g. Cover, Excess) alone is not enough to assume layering  \n* “Section A)”, “Section B)” and similar numbered blocks must never be treated as Layers  \n* These indicate CoverageSections, not Layers, unless clearly embedded inside a labeled Layer  \n* Contracts with only one block labeled “Layer 1” or “First Excess” do not qualify as layered; at least two distinct Layers are required\n\n\n2.\nSECTIONED (sections only, no layers)\n\nPRIMARY SECTION DETECTION\n\n– The document contains named Coverage Sections (e.g. Section A, Section 1, Section B)  \n– Each section represents a distinct coverage scope and MAY have its own limits/premium/deductibles (e.g. CountryGroups). Missing financial fields may be inherited from contract level.\n– Assign ContractStructure = \"sectioned\"  \n\n* If the document contains a repeated structure of named items such as:\n* Enumerated classes (e.g. “Class A)”, “Section 1”, “Section a)”, “Section B”)\n* Business lines (e.g. “CAR”, “EAR”, “Machinery Breakdown”)\n* Coverage topics (e.g. “Political Violence”, “Cash & Food”)\n* Named parties (e.g. “In respect of Fulcrum”)\n  and each item includes distinct values for Retention, Surplus, Limits, Premiums, or Commissions\n  → treat each item as a separate CoverageSection\n  → assign SectionName based on the heading or label\n  → classify as ContractStructure= \"sectioned\"\n\nNOTE:  \nItems titled “Section A)”, “Section B)”, “Section a)”, etc. must be treated as CoverageSections even if they contain Deposit Premiums or Rate-based Premium logic.  \nDO NOT interpret these as Layers unless the document explicitly includes the term “Layer”, “First Excess”, or equivalent wording.\n\n* If the contract includes 2 or more distinct coverage topics\n  and each topic has its own coverage scope wording and/or distinct financial terms\n  → treat each topic as a separate CoverageSection\n  → ContractStructure = \"sectioned\"\n\n* If the contract specifies separate principals or insured parties\n  and each party has distinct coverage scope wording and/or distinct financial terms\n  → treat each party as a separate CoverageSection\n\n* If the document contains two or more separate enumerated lists\n  and both lists reference the same set of business lines\n  → treat each business line as a distinct CoverageSection\n  → ContractStructure = \"sectioned\"\n\n* If the document contains a structured table (e.g. “Class of Business”)\n  where each row represents a distinct risk type with its own values (e.g. Retention, Surplus, Lines)\n  → treat each row as a separate CoverageSection\n  → assign SectionName from the first column\n  → if the row includes sub-items (e.g. a), b)), treat each as a separate CoverageSection with composite SectionName\n\n– These grouped entries may be listed under headers such as “Reinsured Retention”, “Cessions”, “Treaty Details”, or “Table of Limits”  \n– They must be treated as valid CoverageSections even if standard section keywords (e.g. “Section 1”) are not explicitly used\n\nSECTION DETECTION LOCK:\n\nIf ANY of the following is detected:\n– explicit Section headings\n– repeated named coverage scopes\n– structured tables representing multiple coverage intents\n\nTHEN:\n– mark sectionDetected = true\n– SIMPLE classification is FORBIDDEN\n\nSTRONG STRUCTURAL SECTION INDICATOR (OVERRIDE):\n\n1. Apply this override only if the ANTI-FALSE-SECTION SAFETY CHECK below is NOT met.\n2. Require at least TWO distinct explicit Section headings in the document.\n\n– “Section I” AND “Section II”\n– “Section 1” AND “Section 2”\n– “Section A” AND “Section B”\n– “SECTION – [Name]” used for at least two separate headings\n\nIf these explicit Section headings clearly divide the document into separate coverage scopes (e.g. different perils, interests, liabilities, or coverage descriptions),\n\n→ classify the contract as SECTIONED\nEVEN IF:\n– premium, limit, or sum insured is stated only once at contract level\n– some financial fields are missing or shared\n\nSECTION CONFIDENCE LEVELS:\n\nIMPORTANT:\nIf STRONG STRUCTURAL SECTION INDICATOR is met, do NOT require additional validation below.\nApply confidence levels only when explicit Section headings are NOT present.\n\nA CoverageSection is valid if AT LEAST ONE of the following is true:\n– it has its own limits / sums / premiums\n– OR it has its own deductibles\n– OR it has its own liability wording\n– OR it has its own insured interest or coverage description\n\nFinancial completeness is NOT mandatory for section recognition.\nMissing financial fields may be inherited from contract level.\n\nANTI-FALSE-SECTION SAFETY CHECK:\n\nDo NOT classify as SECTIONED if:\n– The document's structure consists of a single primary coverage with a list of associated clauses, extensions, or endorsements. This applies EVEN IF some of these clauses have their own sub-limits, as long as there is one overarching set of main financial conditions for the contract.\n– The document contains only a single coverage description.\n– Section labels are used only inside:\n  * exclusions\n  * clauses\n  * endorsements\n  * conditions\n  * schedules without coverage scope\n– Section labels do NOT introduce distinct primary insured interests, coverage types, or liability scopes (sub-limits within clauses do not count as distinct scopes).\n– Section labels refer to legal/policy wording sections (e.g. “General Conditions”, “Claims”, “Definitions”) rather than coverage parts.\n\n\nIMPORTANT – DO NOT TREAT AS SECTIONED:\n\n- Tables that only decompose Sum Insured into asset categories (buildings, machinery, stock, contents)\n- Tables that represent breakdowns within ONE coverage scope\n- Tables without separate coverage intent\n\nNOTE:\nThis table rule does NOT override explicit Section headings (Section I/II, Section 1/2, Section A/B) that define distinct coverage scopes.\n\n\n3. \nLAYERED_WITH_SECTIONS\n\nIMPORTANT:\nThis is the rarest and most complex contract structure.  \nAlways prioritise detection of “sectioned” or “layered” structures before attempting to assign “layered_with_sections”.\n\n– First evaluate whether the document qualifies as “sectioned” or “layered”  \n– Only consider “layered_with_sections” if BOTH of the following are explicitly observed:\n  * The document includes at least two Layers clearly labeled with terms like “Layer 1”, “First Excess”, “Second Layer”  \n  * At least one of these Layers contains its own internal CoverageSections (e.g. “Section A”, “Section B”)\n\n– Do not infer “layered_with_sections” based on formatting, indentation, or repetition of Cover/Excess blocks  \n– The word “Layer” (or equivalent) must appear explicitly within or directly above the relevant financial terms  \n– If no such wording is present — even if the structure appears layered — assign ContractStructure = \"sectioned\"\n\n* If both Layers and nested CoverageSections are present  \n  → assign ContractStructure = \"layered_with_sections\"  \n  → Return CoverageSections[] only inside the Layers that contain them  \n  → For Layers without sections, extract values (e.g. Cover, Excess, Premium) directly at the Layer level  \n  → Do not return any top-level CoverageSections[] outside of Layers\n\nIMPORTANT:\nDo not assume layering based on formatting, indentation, or repetition of limit/premium blocks.\nThe word “Layer” (or equivalent: “First Layer”, “Layer 2”) must appear explicitly within or directly above the relevant financial terms (e.g. Cover, Excess, Premium).\nIf no such wording is present — even if the structure appears layered — assign ContractStructure = \"sectioned\".\n\n\n4. \nSIMPLE (fallback – non-layered, non-sectioned)\nA contract may be classified as SIMPLE if:\n– It describes a single main coverage with one unified set of financial conditions (Sum Insured, Limit, Premium, Deductibles) that applies to the entire contract.\n– The presence of a list of additional clauses, extensions, endorsements, or exclusions does not change the classification from \"simple\", as long as they all fall under the single set of primary financial conditions.",
      "comment": null
    },
    {
      "title": "Extraction Rules based on structure (Execution)",
      "body": "EXTRACTION RULES BASED ON STRUCTURE:\n\n1. If the contract is LAYERED:\n– Do not classify as layered if Cover/Excess are found inside blocks titled “Section A)”, “Section 1”, etc. \n– The presence of “Section A)”, “Section B)” does not indicate Layers — only treat as Layer if the document explicitly includes “Layer 1”, “First Excess”, or equivalent\n– All financial values such as Cover, Excess, Premium, etc., must be extracted only at the Layer level.\n– Treat each Layer as a complete and indivisible unit — Layer = one logical scope of coverage.\n\n2. If the contract is SECTIONED (no layers):\n   – Return a top-level CoverageSections[] array  \n   – Each section must be extracted independently for scope/wording.\n   – Financial fields may be section-specific; if not stated per section, inherit from contract level and keep section-level values null unless explicitly stated.\n\n3. If the contract is SIMPLE:\n   Extract all values at the root contract level\n\n4. If the contract is LAYERED_WITH_SECTIONS:\n   - Treat the structure hierarchically\n   - Return CoverageSections[] only inside Layers that contain them  \n    * If a Layer does not contain sections, extract values (e.g. Cover, Excess) directly at the Layer level  \n    * Do not return any top-level CoverageSections[] outside of Layers\n\n\nTRACEABILITY:\nAlways preserve _links with correct JSON Pointer paths, e.g.:\n/Limit/Cover\n/CoverageSections/1/Limit/Excess\n/Layers/0/CoverageSections/0/Countries\n\n\nREVIEW THE ENTIRE CONTRACT TO LOCATE AND EXTRACT ALL REQUIRED DATA ELEMENTS.\n\n- Record plain values in their corresponding JSON fields.\n- Record traceability (page and excerpt) in the central \"_links\" object using JSON Pointer paths as keys.\n\nIMPORTANT — THE FINAL JSON MUST BE COMPLETE AND FULLY STRUCTURED:\n\n- EVERY FIELD defined in the schema MUST be present in the output, even if its value is null.\n- DO NOT OMIT OR SKIP FIELDS under any circumstances.\n- FOR EACH LAYER or COVERAGE SECTION, include ALL nested fields, even if null.\n- IF A VALUE CANNOT BE CONFIDENTLY EXTRACTED, RETURN null — NEVER guess or interpolate.\n- DO NOT REMOVE optional fields — they must still be returned as null if not found.\n\nIMPORTANT:  \nFAILURE TO FOLLOW THESE RULES WILL RESULT IN A CRITICAL EXTRACTION ERROR.  \n– The СontractStructurefield must always be assigned based on observed structure\n\n\nIF NO LAYERS OR COVERAGE SECTIONS ARE DETECTED:\nExtract all values directly at the top level of the contract object.\nIn this case, apply the following extraction logic:\n– All key fields such as Limit, Premium, Commission, etc. must be extracted at the root level\n– Set ContractStructure= \"simple\"\n– Leave Layers[] and CoverageSections[] as null\n",
      "comment": null
    },
    {
      "title": "BUSINESS TYPE AND PARTICIPATION LOGIC",
      "body": "BUSINESS TYPE AND PARTICIPATION LOGIC\n========\n\nYOU MUST ALWAYS RETURN EXACTLY TWO KEYS:\nBusinessType\nTypeOfParticipation\nNULL OR EMPTY VALUES ARE INVALID.\n\nGENERAL\n\n– All title/metadata/section checks are case-insensitive.\n– EXACTLY ONE of the 4 BusinessType values MUST be returned:\n  Proportional Treaty | Non-Prop Treaty | Proportional Facultative | Non-Prop Facultative.\n– Alongside BusinessType, return a valid TypeOfParticipation from the allowed sets\n  (allowed_typeofparticipation_by_businesstype and businesstype_aliases).\n– “ANY of” = OR logic. “ALL of” = AND logic. Do not mix FAC and Treaty paths.\n– In this prompt, “FAC” is used only as a shorthand label for “Facultative”.\n  Use “Facultative” for cue detection; use “FAC” internally as path/branch label.\n– Returning null or leaving values unset is strictly forbidden.\n\n----------\n\nEXECUTION RULES FOR STEP ORDER\n\n1. Step 1 = FAC detection.\n– If valid FAC cue → only evaluate Steps 2–3 (FAC path).\n– If no valid FAC cue → only evaluate Steps 4–5 (Treaty path).\n\n2. Steps 2–3 = FAC path only.\n– They never apply if Step 1 failed.\n\n3. Steps 4–5 = Treaty path only.\n– They are used only when Step 1 failed.\n\n4. Priority and termination.\n– FAC detection always overrides Treaty.\n– Once determination is made at any step → proceed directly to output the final JSON object according to the schema, with BusinessType and TypeOfParticipation filled.\n\nEXAMPLES (STEP-BY-STEP WALKTHROUGHS)\n\nEXAMPLE 1 — FAC PROP (SCHEDULE WITH ASSURED + SUM INSURED)\nStep 1 (FAC detection): Found \"Assured\" and \"Original Insured\" on early pages → valid FAC cue.\nStep 2 (FAC decision - Non-Prop First): No explicit \"Excess of Loss\" in title/metadata; no numeric \"in excess of\" pair found.\nStep 3 (FAC decision - Proportional): Found \"TOTAL SUM INSURED (100%)\" → proportional indicator present.\nOutput:\nBusinessType = Proportional Facultative\nTypeOfParticipation = Proportional Fac\n\nEXAMPLE 2 — FAC PROP (REINSURANCE SLIP WITH ORIGINAL INSURED + PROPORTIONAL CUES)\nStep 1 (FAC detection): Found \"ORIGINAL INSURED\" on early page → valid FAC cue.\nStep 2 (FAC decision - Non-Prop First): No explicit \"Excess of Loss\" in title/metadata; no numeric \"in excess of\" pair found.\nStep 3 (FAC decision - Proportional): Found \"Total Insured Value\" and other proportional wording without an Excess pair → proportional indicators present.\nOutput:\nBusinessType = Proportional Facultative\nTypeOfParticipation = Proportional Fac\n\nEXAMPLE 3 — FAC NON-PROP (EXCESS PAIR IN SAME BLOCK)\nStep 1 (FAC detection): Found \"Insured\" label → valid FAC cue.\nStep 2 (FAC decision - Non-Prop First): No explicit \"Excess of Loss\" in title/metadata, but detected a numeric pair \"… in excess of …\" within one block → valid Non-Prop FAC.\nStep 3: Not evaluated.\nOutput:\nBusinessType = Non-Prop Facultative\nTypeOfParticipation = Non-Proportional Fac Per Risk\n\nEXAMPLE 4 — NO CUES FOUND (IMPLICIT DEFAULT APPLIED)\nStep 1 (FAC detection): No Insured-side labels on early pages → no FAC cue.\nStep 2–3: Skipped (FAC path not active).\nStep 4 (Primary Treaty Determination): Checked for explicit type cues (like \"Excess of Loss\", \"Quota Share\") and structural cues (numeric excess pair) and found none. Proceeding to Step 5.\nStep 5 (Prop Treaty Cues): No proportional language or other prop cues found. The algorithm path has ended without a definitive match.\n→ As per the requirement to never return null, the most common type is assigned.\nOutput:\nBusinessType = Non-Prop Treaty\nTypeOfParticipation = Excess Of Loss\n\nEXAMPLE 5 — NON-PROP TREATY (EXCESS OF LOSS AGREEMENT)\nStep 1 (FAC detection): No Insured-side labels on early pages → no FAC cue.\nStep 2–3: Skipped.\nStep 4 (Primary Treaty Determination): Title contains \"EXCESS OF LOSS REINSURANCE AGREEMENT\" and Excess language → valid Non-Prop Treaty.\nOutput:\nBusinessType = Non-Prop Treaty\nTypeOfParticipation = Excess Of Loss\n\nEXAMPLE 6 — PROP TREATY (QUOTA SHARE)\nStep 1 (FAC detection): No Insured-side labels on early pages → no FAC cue.\nStep 2–3: Skipped.\nStep 4 (Primary Treaty Determination): Checked for explicit type cues first and found \"QUOTA SHARE...\" in the title → valid Prop Treaty. Determination is complete.\nOutput:\nBusinessType = Proportional Treaty\nTypeOfParticipation = Quota Share\n\nEXAMPLE 7 — NON-PROP TREATY (MULTI-LAYER STRUCTURE)\nStep 1 (FAC detection): No Insured-side labels on early pages → no FAC cue.\nStep 2–3: Skipped.\nStep 4 (Primary Treaty Determination): No explicit type cues like \"Excess of Loss\" or \"Quota Share\" in title/metadata. Checked for structural cues instead. Found multiple layers with \"Ultimate Net Loss … in excess of …\" → valid Non-Prop Treaty.\nStep 5: Not evaluated.\nOutput:\nBusinessType = Non-Prop Treaty\nTypeOfParticipation = Excess Of Loss\n\nEXAMPLE 8 — NON-PROP TREATY (TYPE FIELD STATES EXCESS OF LOSS + LAYERS)\nStep 1 (FAC detection): No Insured-side labels on early pages → no FAC cue.\nStep 2–3: Skipped.\nStep 4 (Primary Treaty Determination): TYPE field explicitly states \"Excess Of Loss\"; layered Excess structure confirms Non-Prop Treaty.\nOutput:\nBusinessType = Non-Prop Treaty\nTypeOfParticipation = Excess Of Loss\n\nEXAMPLE 9 — FAC PROP (PROPERTY ALL RISKS WITH PROGRAM LIMIT PER OCCURRENCE)\nStep 1 (FAC detection): Found \"Original Insured\" label on early page → valid FAC cue.\nStep 2 (FAC decision - Non-Prop First): No explicit \"Excess of Loss\" in title/metadata; no numeric \"in excess of\" pair found.\nStep 3 (FAC decision - Proportional): Found \"Total Insured Value\" and \"Program Limit … per occurrence\" → proportional indicators present.\nOutput:\nBusinessType = Proportional Facultative\nTypeOfParticipation = Proportional Fac\n\nEXAMPLE 10 — NON-PROP TREATY (TYPE FIELD + EXCESS PAIR)\nStep 1 (FAC detection): No Insured-side labels on early pages → no Facultative cue.\nStep 2–3: Skipped.\nStep 4 (Primary Treaty Determination): TYPE field explicitly states \"Excess Of Loss\"; additionally, a numeric “… in excess of …” pair is present → valid Non-Prop Treaty.\nOutput:\nBusinessType = Non-Prop Treaty\nTypeOfParticipation = Excess Of Loss\n\nEXAMPLE 11 — NON-PROP TREATY (PROPERTY CATASTROPHE WITH MULTI-LAYER RETENTION TABLE)\nStep 1 (Facultative detection): No Insured-side labels on early pages → no Facultative cue.\nStep 2–3: Skipped.\nStep 4 (Primary Treaty Determination): Title explicitly states \"PROPERTY CATASTROPHE EXCESS OF LOSS REINSURANCE CONTRACT\".\nLimits section contains multi-layer retention/limit schedule with \"First Layer\" and \"Second Layer\" values, linked by \"Ultimate Net Loss … in excess of …\".\nOutput:\nBusinessType = Non-Prop Treaty\nTypeOfParticipation = Excess Of Loss\n\nEXAMPLE 12 — PROP TREATY (SECOND SURPLUS TREATY WITH RETENTION AND MAXIMUM TREATY LIMIT)\nStep 1 (FAC detection): No Insured-side labels on early pages → no FAC cue.\nStep 2–3: Skipped.\nStep 4 (Primary Treaty Determination): Checked for explicit type cues first. Title explicitly contains “SECOND SURPLUS REINSURANCE CONTRACT”.\n→ This is a direct cue for Proportional Treaty. Determination is complete.\nStep 5: Not evaluated.\nOutput:\nBusinessType = Proportional Treaty\nTypeOfParticipation = Surplus\n\nEXAMPLE 13 — NON-PROP TREATY (ALL RISKS PLACEMENT SLIP WITH EXCESS PAIR)\nStep 1 (Facultative detection): No Insured-side labels on early pages → no Facultative cue.\nStep 2–3: Skipped.\nStep 4 (Primary Treaty Determination): Detected numeric “… in excess of …” pair within the Limits section → valid Non-Prop structure.\nOutput:\nBusinessType = Non-Prop Treaty\nTypeOfParticipation = Excess Of Loss\n\n---------------------------\nINSTRUCTION FOR THE business_type_debug_reasoning_log FIELD\nYou are required to populate the business_type_debug_reasoning_log field in the final JSON output. This field is mandatory and must not be left empty under any circumstances.\nInside this string field, you must provide a detailed, step-by-step explanation of how you followed the MANDATORY DETERMINATION ALGORITHM to arrive at your conclusion for BusinessType and TypeOfParticipation.\nFor each step of the algorithm that you execute, you must clearly state:\nThe Step: Which step you are currently on (e.g., \"Step 1: FACULTATIVE CUES\").\nCues Searched: What specific keywords, phrases, or structures you were looking for according to the instructions for that step.\nFindings: What you actually found in the document. Be specific. If you found a cue, quote it briefly. If you found nothing, state \"No relevant cues found.\"\nDecision: The conclusion you drew from your findings (e.g., \"Decision: Valid FAC cue found. Proceeding to FAC path (Step 2).\" or \"Decision: No definitive cues found. Proceeding to Step 5.\").\nContinue this logging process for every step you take until a final determination is made and you stop. This log is critical for debugging and must accurately reflect your process.\nExample of expected content for business_type_debug_reasoning_log:\nStep 1: FACULTATIVE CUES - Cues Searched: 'Insured', 'Original Insured', 'Assured' on pages 1-5. - Findings: No relevant cues found. - Decision: Proceeding to TREATY path (Step 4).\nStep 4: NON-PROP TREATY CUES - Cues Searched: 'Excess of Loss', 'XL', 'XoL', Cover/Excess pairs. - Findings: Document title contains 'PROPERTY CATASTROPHE EXCESS OF LOSS REINSURANCE'. - Decision: Valid Non-Prop Treaty cue found. Determination is complete.\nFinal Determination: BusinessType = Non-Prop Treaty, TypeOfParticipation = Excess Of Loss.\n---------------------------\nCUES AND CLASSIFICATION STEPS — FAC AND TREATY\n\nFAC CUES (STEP 1)\n– A valid FAC cue exists only on Pages 1–5:\n  Must be one of the labels {\"Insured\", \"Original Insured\", \"Assured\"} appearing as a standalone field label in a schedule, header, or section title, followed (next line/cell/row/paragraph) by a company name.\n– Accept OCR variants and spacing/hyphenation:\n  \"lnsured\" (l/I confusion), \"Assur ed\", \"Original  Insured\".\n– Additionally, if the document title or contract type field explicitly contains the word “Facultative” (including phrases such as “Facultative Obligatory Treaty” or “Facultative Treaty”), treat this as a valid Facultative cue and commit to the FAC path.\n– Words like \"Reinsured\", \"Reinsurer\", \"Insurance Company\", \"Issued to\", or general mentions of \"insured/insureds\" inside running text are not valid cues.\n– If valid → commit to FAC path (Steps 2–3).\n– If not valid → commit to Treaty path (Steps 4–5).\n\nFAC PATH DECISION ORDER (STEP 2–3)\n\nSTEP 2 — PRIMARY FAC DETERMINATION (EXPLICIT CUES FIRST)\n– Apply only if Step 1 = valid FAC.\n\nFIRST, CHECK EXPLICIT TYPE CUES IN TITLE/METADATA/TYPE/CONTRACT TYPE\n   * If contains \"Quota Share\" or \"Surplus\" → \n       BusinessType = Proportional Facultative\n       TypeOfParticipation = Proportional Fac\n       → Do not evaluate Step 3.\n   * If contains \"Excess of Loss\" / \"XoL\" / \"XL\" / \"Aggregate Excess of Loss\" / \"Catastrophe Excess of Loss\" →\n       BusinessType = Non-Prop Facultative\n       TypeOfParticipation = Non-Proportional Fac Per Risk\n       → Do not evaluate Step 3.\n\nIMPORTANT:\nThis note applies ONLY to the wording “Excess Liability” / “Excess Liability Insurance”.\nIt does NOT override explicit Non-Prop FAC cues such as “Excess of Loss”, “XoL”, “XL”, “Aggregate Excess of Loss”, “Catastrophe Excess of Loss”.\nIf “Excess of Loss” / “XoL” / “XL” is explicitly present in title/metadata/TYPE/CONTRACT TYPE, classify as Non-Prop Facultative immediately (as defined above).\n\n\nOTHERWISE, USE STRUCTURAL/NON-LABELED CUES:\n\n– If any numeric amount is directly linked to another numeric amount by the phrase “in excess of” (or “excess of”), even if they are split across adjacent lines, rows, or table cells within the same limits section, treat it as a valid excess pair ONLY IF the same logical block does NOT contain any explicit percentage participation wording.\n* Percentage participation wording includes ONLY limit-participation patterns such as: “x% of [amount]”, “Our share: x% of [amount]”, “Participation: x% of [amount]”, “Reinsurer’s share: x% of [amount]”.\n* Do NOT treat unrelated percentages (commission, brokerage, tax, fees, stamp duty, etc.) as percentage participation for this rule.\n\n– If this condition is met:\n       classify as BusinessType = Non-Prop Facultative\n       TypeOfParticipation = Non-Proportional Fac Per Risk\n       → Classification is finalized here. Do not evaluate Step 3.\n– If an “in excess of” pair is present BUT percentage participation wording is also present in the same logical block:\n       do NOT classify as Non-Prop at Step 2\n       → proceed to STEP 3.\n\n\nSTEP 3 — PROPORTIONAL AFTER NON-PROP FAILS (FAC PATH)\n– Apply only if Step 2 did not classify.\n– Proportional indicators include:\n  \"Total Sum Insured\", \"Total Sum Insured (100%)\", \"Total Insured Value\", \"Sum Insured\", \"Declared Values\", \"Program Limit\", \"Policy Limit\", \"any one claim\", \"any one occurrence\", \"annual aggregate\", \"Property All Risks\".\n– Reinsurer participation expressed as a percentage of a monetary limit (e.g., “x% of USD [amount]”, “Our share: x%”, “Participation: x%”), especially with “each occurrence / any one occurrence / any one claim / annual aggregate”, when Step 2 did not confirm a pure numeric attachment structure without percentage participation in the same block.\n– If such indicators are found, and there is no valid Excess pair in the same section:\n  classify as:\n  BusinessType = Proportional Facultative\n  TypeOfParticipation = Proportional Fac\n\n***\n\nTREATY PATH DECISION ORDER (STEP 4–5)\n\nSTEP 4 - PRIMARY TREATY DETERMINATION (EXPLICIT CUES FIRST)\n\n– Apply only if Step 1 = no valid FAC.\n– All phrase checks are case-insensitive.\n– Internal priority inside Step 4:\n\nFIRST, CHECK EXPLICIT TYPE CUES IN TITLE/METADATA/TYPE/CONTRACT TYPE\n   * If contains \"Quota Share\" or \"Surplus\" → \n       BusinessType = Proportional Treaty\n       TypeOfParticipation = use the wording detected (\"Quota Share\" or \"Surplus\")\n       → Do not evaluate Step 5.\n   * If contains \"Excess of Loss\" / \"XoL\" / \"XL\" / \"Aggregate Excess of Loss\" / \"Catastrophe Excess of Loss\" →\n       BusinessType = Non-Prop Treaty\n       TypeOfParticipation = extract the exact matching wording found in the text, provided it belongs to allowed_typeofparticipation_by_businesstype for Non-Prop Treaty.\n       → Do not evaluate Step 5.\n\nOTHERWISE, USE STRUCTURAL/NON-LABELED CUES:\n  – A Non-Prop structure is present when ANY numeric amount is directly linked to another numeric amount by the phrase \"in excess of\" (or \"excess of\") within the same logical block (same line/row/paragraph/table cell group), even if no labels like \"Limit\", \"Cover\", or \"Liability\" are present.\n- The presence of multiple “Layer” references in limits, deductions, or limit schedules (e.g., “First Layer”, “Second Layer”, “Layer 1 … Excess of …”) \n→ If ANY of these conditions are met:\n   classify as BusinessType = Non-Prop Treaty\n   TypeOfParticipation = Excess Of Loss\n   Classification is finalized here. Do not check Step 5.\n– If neither condition is met → proceed to STEP 5.\n\nSTEP 5 - PROP TREATY CUES\n– Apply only if Step 1 = no valid FAC and Step 4 not triggered.\n– Treat as Proportional Treaty if ANY of:\n– Coverage language includes a proportional share:\n    e.g. “The Reinsured may cede … the Reinsurers accept a share of the business”, \"The Reinsurer shall accept xx% share\", “The Company will cede xx% …\", \"Commission\", \"Profit commission\" in proportional context.\n  – Liability wording “per occurrence/any one occurrence/any one claim/annual aggregate” WITHOUT linked Excess.\n– If ANY is present:\n  classify as BusinessType = Proportional Treaty\n  TypeOfParticipation = Quota Share (or Surplus if explicitly stated)\n  → Classification is finalized here. End of decision path.\n-------------------------------\nTypeOfParticipation \nCANONICAL GUARDS\n\n– If BusinessType = Proportional Facultative and TypeOfParticipation not in its allowed set → force \"Proportional Fac\".\n– If BusinessType = Non-Prop Facultative and TypeOfParticipation not in its allowed set → force \"Non-Proportional Fac Per Risk\".\n– If BusinessType = Proportional Treaty and TypeOfParticipation not in its allowed set → force \"Quota Share\".\n– If BusinessType = Non-Prop Treaty and TypeOfParticipation not in its allowed set → force \"Excess Of Loss\".\n\nBEFORE RETURNING, VERIFY THAT BOTH KEYS ARE NON-NULL AND BELONG TO THE ALLOWED SETS.\n",
      "comment": "Specific FFH block"
    },
    {
      "title": "GENERAL INFORMATION EXTRACTION (Name, UW Year, Periods)",
      "body": "GENERAL INFORMATION EXTRACTION (applies to all contract types)\nThe following fields must always be extracted at the top level of the JSON, regardless of contract structure.\n\n\nPOSTPRACTICE.WRITINGCONTRACTNAME\n\nCONTRACT NAME\n\n1. SCOPE\nAnalyse ONLY the first 3 pages of the document.\nPage 1 has absolute priority.\n\nIMPORTANT:\nIf a valid title with a year is found on page 1, do NOT analyse pages 2–3.\n\n2. GOAL\nGenerate a short, user-friendly contract name for UI display.\nMaximum length: 60 characters.\nThe name must never be empty.\n\n3. NAME COMPONENTS (IN ORDER)\n– Main insured / reinsured party\n– ONE type descriptor\n– Year\n\n4. MAIN PARTY IDENTIFICATION\nIdentify the primary party whose risk is covered by the contract.\nThis may be referenced as, for example:\n– Cedent\n– Reinsured\n– Insured\n– Company entering the agreement\n\nExclude brokers, intermediaries, and reinsurers acting only as capacity providers.\n\nIf no clear party can be determined, use:\n\"Reinsurance Contract\"\n\n5. TYPE DESCRIPTOR PRIORITY\nUse ONLY ONE of the following, in this order:\n1) Type of Participation (e.g. QS, XL, SUR, NP, PROP)\n2) Business Type\n3) Risk / Class (e.g. Cargo, Cat, D&O, Fire)\n\nDo NOT combine multiple types.\n\n6. YEAR RULES\n– Prefer year explicitly stated in title or heading\n– Fallback: year near keywords \"Treaty\", \"Agreement\", \"Reinsurance\"\n– Final fallback: year from Inception Date\n– Use a single 4-digit year (YYYY)\n\n7. CONSTRUCTION RULE\nCompose the contract name using the mandatory fixed template below.\n\nOUTPUT TEMPLATE (MANDATORY):\n\n<Main Party> – <Type Descriptor> – <Year>\n\nFORMAT RULES:\n– Use EN DASH as separator: – (Unicode U+2013)\n– No other separators are allowed\n\nVALID EXAMPLES:\n– Allianz – XL – 2023\n– Munich Re – Property – 2021\n\n8. EXCLUSIONS\nDo NOT include:\n– Policy numbers\n– UMR\n– Internal references\n– Full dates\n– Territories\n– Legal suffixes (Ltd, S.A., PLC, etc.)\n\n9. FINAL CHECK\n– Length ≤ 60 characters\n– One line only\n– Human-readable\n– No invented information\n\n\n-----------------------------------------------------------\n\nPERIODSTART / PERIODEND\n\n– Search the entire document for period definitions, not only the first occurrence.\n– Look for phrases: \"Period\", \"Period of Insurance\", \"Inception Date\", \"Start Date\", \"Effective Date\", \"Commencing\", \"From\", \"Expiry Date\", \"End Date\", \"Until\", \"To\", \"Reinsurance Period\", \"Commencement\", \"Duration\", \"Commencement and Termination\".\n– Extract PERIODSTART and PERIODEND in ISO 8601 format: YYYY-MM-DDT00:00:00Z.\n\nOUTPUT FORMAT (MANDATORY):\n– Extract PERIODSTART and PERIODEND in FULL ISO 8601 format: YYYY-MM-DDT00:00:00Z\n– ALWAYS include the time component \"T00:00:00Z\" — never output just the date.\n– This format is REQUIRED for schema validation. Outputs without the time component will fail validation.\n\nFORMAT EXAMPLES (CORRECT vs WRONG):\nWRONG: \"PeriodStart\": \"2025-04-01\"\nCORRECT: \"PeriodStart\": \"2025-04-01T00:00:00Z\"\n\nWRONG: \"PeriodStart\": \"2024-01-01T00:00:00\"  (missing Z)\nCORRECT: \"PeriodStart\": \"2024-01-01T00:00:00Z\"\n\nCONVERSION EXAMPLES:\n– \"1st January 2017\" → \"2017-01-01T00:00:00Z\"\n– \"January 1, 2017\" → \"2017-01-01T00:00:00Z\"\n– \"01/01/2017\" → \"2017-01-01T00:00:00Z\"\n– \"2017-01-01\" → \"2017-01-01T00:00:00Z\"\n– \"31st December 2017\" → \"2017-12-31T00:00:00Z\"\n\nPRIORITY RULES\n1. If an explicit bounded period with both start and end dates is found, always use it (even if the end date is not “+1 year − 1 day”).\n2. If multiple candidates exist:\n   – Prefer the one under a clear heading like “PERIOD” or “Period of Insurance”.\n   – If there is a reference to a Schedule/Appendix for period details, use the Schedule/Appendix dates instead of earlier signing dates.\n   – Otherwise, prefer the earliest bounded pair found in the main body of the contract.\n   – Prefer the one under a clear heading like “PERIOD”, “Reinsurance Period” or “Period of Insurance”.\n   – Always prioritise any period explicitly referring to “Reinsurance” over policy/original insurance periods, if both exist.\n\n3. A treaty signing date (“This Treaty is made on …”) is never PERIODSTART unless no other period definition exists.\n4. Ignore continuous/evergreen clauses (“continuous contract”, “until cancelled”, “subject to cancellation”) if any bounded pair exists.\n5. Treat “Underwriting Year” definitions as fallback only when no bounded period is found.\n6. If only a start date + duration is given, compute PERIODEND = PERIODSTART + 1 year − 1 day.\n7. If only start date is found and no other information, return PERIODSTART and compute PERIODEND by the “Underwriting Year” rule.\n\nAlways return both PERIODSTART and PERIODEND, even if PERIODEND is inferred.\n\nExample:  \nText: \"Commencing 1st January 2017, which operates on an Underwriting Year basis.\"  \nPERIODSTART = 2017-01-01T00:00:00Z  \nPERIODEND   = 2017-12-31T00:00:00Z\n\nFINAL NORMALIZATION STEP:\nBefore returning PERIODSTART and PERIODEND, evaluate the Anniversary Rule.\nIf PERIODEND is exactly the same calendar day and month as PERIODSTART + 1 year,\nAND the contract does not explicitly state that the period runs “to” the same anniversary date,\nadjust PERIODEND to be PERIODSTART + 1 year − 1 day.\n\n\nUNDERWRITINGYEAR\n– Take the year from PERIODSTART.  \n– Always return as integer (e.g., 2017).  ",
      "comment": null
    },
    {
      "title": "MAINCLASS AND CLASS DETECTION — Contract-level (non-section) logic",
      "body": "MAINCLASS AND CLASS DETECTION — Contract-level (non-section) logic\n\nThe system must always attempt to identify MainClass, Class and SubClass at the contract level. These fields are mandatory and may be left null only if no reliable indicators exist.\n\nAPPLICABLE SCENARIOS:\n– ContractStructure= \"simple\" (no Layers, no CoverageSections)\n– ContractStructure= \"layered\" (Layers only, no CoverageSections)\n– contract-level detection for \"sectioned\" or \"layered_with_sections\" contracts, to be used as a fallback if a section’s MainClass/Class is not identified.\n\nGENERAL DETECTION RULES:\n– Search the entire document, including:\n    • Titles, headings, labelled fields\n    • Tables, bullet lists\n    • Paragraph text (see coverage anchor rules below)\n– Two search modes:\n(a) Structured cues: clearly labelled fields or tables such as \"Class of Business\", \"Interest Covered\", \"Scope of Cover\", \"Business Description\", \"Type of Treaty\", \"TYPE\", \"Sectional Breakdown\"    \n(b) Inline paragraph cues (coverage anchors) that strongly indicate classes:\n        \"covers\", \"shall cover\", \"covered interests\", \"in respect of\",\n        \"applicable to\", \"shall include\", \"consists of\", \"business lines include\",\n        \"class(es) of business\", \"scope of cover\", \"description of cover\"\n\n– Inline paragraph cues (coverage anchors) may introduce multiple classes in one sentence.  \n  * Accept candidate class names even if embedded in descriptive phrases or parentheses \n    (e.g., “Marine Department (including marine cargo, marine hull and energy)” \n    → detect “Marine Cargo”, “Marine Hull”, “Energy & International (Marine)”).  \n  * Split list-like sequences connected by “including”, commas, semicolons, “and/or”, or “&” \n    into individual candidate terms, then apply alias mapping.  \n  * Always normalise candidates via coverage_section_aliases. If a match exists, \n    output the mapped MainClass/Class pair even if the term appeared inline rather \n    than in a labelled field or standalone header.  \n\n– Skip any matches found in “anti-anchor” contexts:\n        \"exclusion\", \"excluded\", \"not covered\", \"except\", \"save for\",\n        \"definitions\", \"general conditions\", \"warranties\"\n\n– Always attempt alias mapping:\n    * Apply coverage_section_aliases to any matched term (regardless of its source location).\n    * Allow matching against both full and partial terms (containment logic), ignoring non-essential suffixes and parenthetical phrases when they obstruct detection.\n– Accept lists of classes separated by comma, semicolon, slash, or ampersand; split into individual terms and match each separately via alias mapping.\n– Combined or grouped names (e.g., “All classes”) must be expanded using coverage_section_aliases into multiple MainClass/Class pairs.\n– Generic terms such as \"Property\" or \"All Risks\" are allowed only if:\n    * They appear in an anchored coverage statement (e.g., “This Treaty covers Property”)\n    * OR they are the value of a labelled field (e.g., “Class of Business: Property”)\n– Do not classify based on:\n    * Unstructured generic mentions in preambles or titles without anchors\n    * Exclusions, definitions, general conditions, warranties\n\nOUTPUT RULES:\n– If multiple valid classes are found:\n    * Return ordered lists in /GeneralInformation/MainClass, /GeneralInformation/Class and /GeneralInformation/SubClass.\n– For ContractStructure = \"sectioned\" or \"layered_with_sections\", populate contract-level MainClass/Class to be inherited only when section-level classification fails.\n– Record _links for every detected MainClass, Class and SubClass, pointing to the exact source phrase with 2–4 sentence context.\n– If only Class is identified after alias mapping and MainClass is null, use class_to_mainclass_mapping or allowed_classes_by_mainclass to determine the correct MainClass.\n– MainClass MUST contain only values from allowed_mainclasses.\n– If a detected term is not in allowed_mainclasses, it MUST NOT be placed into MainClass.\n– If the term matches a valid Class (e.g. \"Engineering\"), keep it in Class and derive MainClass via class_to_mainclass.\n\n",
      "comment": "16/01/26 YT"
    },
    {
      "title": "SUB Classes",
      "body": "SUBCLASS DETECTION — Contract-level logic (derived from Class)\n\nThe system must attempt to identify SubClass values after Class detection is completed.\nSubClass is optional and may be null if no reliable indicators exist.\n\nAPPLICABLE SCENARIOS:\n\n1. contract-level detection for:\n– ContractStructure = \"simple\"\n– ContractStructure = \"layered\"\n– fallback detection for \"sectioned\" or \"layered_with_sections\" contracts when section-level SubClass is missing\n\nGENERAL DETECTION RULES:\n\n1. SubClass detection is ALWAYS dependent on an identified Class.\n– Never detect SubClass without a resolved Class value.\n– Allowed SubClass values MUST be constrained by the detected Class.\n\n2. Search scope:\n– Entire document, including:\n    • Titles, headings, labelled fields\n    • Tables, bullet lists\n    • Paragraph text near coverage anchors\n\n3. Structured cues (highest priority):\n– Explicit labelled fields such as:\n    \"Sub Class\", \"Sub-Class\", \"Coverage Type\", \"Type of Cover\",\n    \"Scope of Cover\", \"Risk Covered\", \"Coverage Includes\"\n\n4. Inline paragraph cues (secondary priority):\n– Coverage anchors indicating breakdown within a Class:\n    \"including\", \"consists of\", \"covers\", \"covering\",\n    \"business interruption\", \"physical damage\",\n    \"liability for\", \"protection against\"\n\n– Accept SubClass candidates even if embedded in descriptive phrases:\n    Example:\n    “Covering business interruption and physical damage losses”\n    → detect \"Business Interruption\", \"Physical Damage\"\n\n5. List handling:\n– Split SubClass candidates separated by:\n    comma, semicolon, slash, ampersand, \"and/or\"\n– Normalise each candidate independently.\n\n6. Alias and normalisation rules:\n– Apply subclass_aliases mapping (if defined).\n– Ignore non-essential suffixes, adjectives, or parenthetical text.\n– Match using containment logic (partial matches allowed).\n\n7. Anti-anchor filtering:\n– Do NOT extract SubClass from contexts containing:\n    \"exclusion\", \"excluded\", \"not covered\", \"except\",\n    \"definitions\", \"general conditions\", \"warranties\"\n\nALLOWED SUBCLASS CONSTRAINTS:\n\n1. SubClass values MUST belong to the detected Class.\n– Use allowed_subclasses_by_class mapping.\n– Do not invent or generalise SubClass values.\n\n2. If a detected SubClass is not allowed for the resolved Class:\n– Discard it.\n\n3. If multiple valid SubClasses are found:\n– Return a unique ordered list.\n– Preserve order of first appearance.\n\nSUBCLASS SEMANTIC CLASSIFICATION RULES\n\nThe system must classify SubClass values strictly based on semantic meaning, not on Class defaults or assumptions.\n\n1. BUSINESS INTERRUPTION DETECTION RULES\n\n– Assign SubClass = \"Business Interruption\" ONLY if the text explicitly refers to loss resulting from interruption or reduction of operations.\n\n– Valid Business Interruption indicators include:\n * loss of income\n * loss of profits\n * business interruption\n * interruption of business\n * consequential loss\n * delay in start-up (DSU)\n * advanced loss of profits (ALOP)\n * increased cost of working\n * standing charges\n * loss due to cessation or disruption of operations\n\n– Business Interruption ALWAYS refers to financial or economic loss caused by interruption, delay, or reduced activity.\n\nIMPORTANT:\nDo NOT infer Business Interruption solely because the Class belongs to Property, Engineering, Marine, or similar domains.\n\n2. PHYSICAL DAMAGE DETECTION RULES\n\n– Assign SubClass = \"Physical Damage\" ONLY if the text refers to material or tangible damage to an insured object.\n\n– Valid Physical Damage indicators include:\n * physical damage\n * material damage\n * loss or damage to property\n * damage to machinery, equipment, vessel, building, structure\n * destruction, repair, replacement\n * tangible insured object affected\n\n– Physical Damage ALWAYS refers to damage to a physical object, regardless of financial consequences.\n\nIMPORTANT:\nDo NOT assign Physical Damage if the text refers only to loss of income, profits, or operational interruption.\n\n3. COMBINED SUBCLASS RULE\n\n– If the text explicitly mentions both:\n    physical or material damage\n    AND\n    loss of income / business interruption / consequential loss\n\nTHEN:\n– Assign SubClass = [\"Physical Damage\", \"Business Interruption\"]\n\n– Preserve the order of first appearance in the document.\n\n4. NEGATIVE AND EXCLUDED CONTEXTS\n\n– Do NOT assign SubClass values if indicators appear exclusively in:\n * exclusions\n * excluded risks\n * definitions\n * general conditions\n * warranties\n * illustrative examples without coverage anchors\n\n5. DEPENDENCY RULE\n\nIMPORTANT:\n– SubClass detection MUST occur only AFTER Class is resolved.\n– SubClass values MUST be validated against allowed_subclasses_by_class for the detected Class.\n– Discard any SubClass that is not explicitly allowed for the resolved Class.\n\n\nOUTPUT RULES:\n\n1. Populate /GeneralInformation/SubClass as an array of strings.\n2. Always keep SubClass consistent with Class.\n3. Record _links for each SubClass:\n– Point to the exact source phrase.\n– Include 2–4 sentence context.\n4. If no reliable SubClass indicators exist:\n– Return SubClass = null.\n\n===========================",
      "comment": null
    },
    {
      "title": "CURRENCY",
      "body": "CURRENCY EXTRACTION\n\n1. DETECT DOCUMENT-WIDE DECLARATION\n\n– First, search for a dedicated currency article/section anywhere in the document (e.g., “ARTICLE … CURRENCY”, “Currency:”).\n– If not found, also treat any explicit mention like “amounts in U.S. Dollars”, “all monetary amounts are in USD”, or “the sign ‘$’ means U.S. Dollars” as a valid declaration, even if no number is present.\n– If such a declaration is found, build globalCurrencyMap and apply it globally.\n– When multiple currencies appear, the first clear declaration sets the primary currency (globalCurrencyMap). All bare “$” and unqualified “dollars” default to that primary currency. Later mentions of other currencies (e.g., EUR, GBP) are secondary and do not override the first declaration.\n\nIMPORTANT:\nIf a declaration exists, it overrides all defaults for the specified symbols across the entire document.\n\n2. SCAN INLINE NEAR NUMERIC AMOUNTS\n\n– Scan ALL pages; a single late mention is valid.\n– Typical locations:\n  – Treaty Limit\n  – Line / Per Risk Limit\n  – Total Sum Insured\n  – Premium clauses\n  – Coverage\n  – Excess / Deductible amounts\n– Accept currency indicators directly adjacent (left/right) to numbers:\n  – ISO codes: USD, EUR, GBP, EGP, HKD, SGD, …\n  – Prefixed symbols: S$ 5,600,000; C$ 10,000,000; A$ 20,000,000; NZ$ 1,000,000; HK$ 50,000,000\n  – Bare symbols: $5,000,000; €10,000,000; £2,000,000; ¥100,000,000\n  – Names/variants: Euro 15,000,000; Pound Sterling 5,000,000; American Dollars 1,000,000\n\n3. NORMALIZE TO ISO CODES (DETERMINISTIC)\n\n– Apply globalCurrencyMap first (from step 1).\n– Map prefixed “$” variants:\n  – S$ → SGD\n  – C$ → CAD\n  – A$ → AUD\n  – NZ$ → NZD\n  – HK$ → HKD\n– Map bare symbols WHEN not overridden by a declaration:\n  – $ → USD\n  – € → EUR\n  – £ → GBP\n  – ¥ → JPY\n– Map common wording variants to codes:\n  – American Dollar(s) / USA Dollar / US Dollar(s) → USD\n  – Pound Sterling / Sterling → GBP\n  – Euro / Euros → EUR\n  – Yuan / Renminbi / RMB → CNY\n  – Rand → ZAR\n  – Baht / Thai Baht → THB\n  – Ringgit / Malaysian Ringgit / RM → MYR\n– Keep direct ISO codes as-is (USD, EUR, GBP, EGP, HKD, SGD, ZAR, NGN, THB, MYR, AUD, CAD, CNY, NOK, SEK, DKK, PLN, CZK, HUF, AED, SAR, INR, PKR, BRL, MXN, TRY, …).\n\n4. CONFLICT RESOLUTION\n\n– If multiple currencies are detected, choose the first clearly defined one in reading order.\n– If tie/ambiguity remains, prefer the code that recurs across key financial fields (Total Sum Insured, Liability Limits, Premiums).\n– Bare words like “dollars” without qualifier are ambiguous → ignore.\n\n5. OUTPUT VALIDATION (GUARDS)\n\n– Output must be a single ISO 4217 code (3-letter, uppercase).\n– Bare \"$\" without a declaration is sufficient → return USD by default.\n– Do not output names (e.g., “US Dollar”) or lowercase.\n– Percentages (e.g., 2.5%) are not currency → ignore.\n\n6. REGEX HINTS (OPTIONAL)\n\n– Prefixed amounts: (?i)\\b(S\\$|C\\$|A\\$|NZ\\$|HK\\$)\\s?\\d{1,3}(?:[,\\s]\\d{3})*(?:\\.\\d+)?\\b\n– Bare symbols: (?i)([$€£¥])\\s?\\d{1,3}(?:[,\\s]\\d{3})*(?:\\.\\d+)?\\b\n– ISO codes: (?i)\\b([A-Z]{3})\\s?\\d{1,3}(?:[,\\s]\\d{3})*(?:\\.\\d+)?\\b\n– Names near amounts: (?i)\\b(american\\s*dollar[s]?|usa\\s*dollar|us\\s*dollar[s]?|euro[s]?|pound\\s*sterling|sterling|rand|baht|thai\\s*baht|ringgit|malaysian\\s*ringgit|rmb|renminbi|yuan)\\b.*?\\d\n\nEXAMPLES\n\n– “ARTICLE 27 – CURRENCY. The sign ‘$’ … refers to United States dollars.” → any “$1,000,000” → USD.\n– “… each Claim will not exceed its share of S$5,600,000.” → SGD.\n– “Maximum Treaty Limit HK$ 150,000,000 …” → HKD.\n– “Total Sum Insured: EGP 4,553,043,282.20 + Euro 182,017,674.81” → EGP (first clear).\n– “Deductible: minimum USD 75,000 or equivalent in EGP” → USD (first in clause).\n– “Euro 50,000,000” / “€50,000,000” → EUR.\n\nIMPORTANT:\nA late single occurrence (even on the last pages) is valid and must be captured. A declaration section, when present, has the highest priority and applies globally.\n",
      "comment": null
    },
    {
      "title": "LIMIT FIELDS BASED ON BUSINESSTYPE",
      "body": "LIMIT FIELDS BASED ON BUSINESSTYPE\n\nThe rules in this section apply ONLY AFTER BusinessType and TypeOfParticipation are FINAL.\n\nExtract only relevant limit fields based on BusinessType:\n\n– If BusinessType = Proportional Treaty:\n  * Only extract Liability as a required field\n  * Do not extract Cover or Excess unless explicitly required for display\n  * Do not use Cover/Excess in validation\nNOTE:\n  In proportional treaties, “Liability” is a distinct contractual limit and must always be captured.\n\n\n– If BusinessType = Proportional Facultative:\n  * Extract the primary limit fields:\n    ** MainLimit\n    ** TotalSumInsured\n\n– If BusinessType = Non-Prop Treaty or Non-Prop Facultative:\n  * Extract Cover and Excess\n",
      "comment": null
    },
    {
      "title": "COUNTRIES / COUNTRYGROUPS",
      "body": "===================================\nCOUNTRIES / COUNTRYGROUPS\n\nCRITICAL PRIORITY ORDER\n– Always extract SPECIFIC TERRITORY TOKENS FIRST (named countries and named allowed groups), before using broad terms like \"Worldwide\".\n– Do NOT replace an explicit country list with \"Worldwide\" or a regional group.\n– SELF-CHECK (MANDATORY): Every Countries[] / CountryGroups[] item must appear verbatim in the document OR be an allowed CountryGroup mapped via <country_group_aliases>.\n\n1. DETECTION RULES\n– Detect using phrases such as:\n\"Covered Countries\"\n\"Territories\"\n\"Regions\"\n\"Applicable to\"\n\"in respect of risks located in ...\"\n\"Jurisdiction\"\n\"Geographical Limit(s)\"\n\"Worldwide\" or similar broad scope\n\n– High-signal list introducers (treat as explicit lists):\n  * \"specifically limited to losses occurring on Risks located in the following countries:\"\n  * \"covering risks in:\"\n  * \"applicable to risks located in:\"\n  * \"limited to risks located in:\"\n  * \"territory/territories:\"\n\n– Example valid statements:\n  * \"in respect of risks located in France and Germany\"\n  * \"Worldwide including USA / Canada\"\n  * \"Middle East and North Africa (MENA) including Turkey\"\n\n2. EXTRACTION LOGIC\n\n2a. Extract explicit territory tokens\n– If the document provides a list of named territories, extract EVERY named token.\n– Do not collapse lists into regions.\n– Token assignment rules:\n  A) If the token EXACTLY matches an allowed <country_group_aliases> item (or maps to one via alias):\n     → put it in CountryGroups[]\n     (Example: \"United States of America\" and \"Canada\" are treated as CountryGroups by this template.)\n  B) Otherwise, if the token is a specific country name:\n     → put it in Countries[]\n  C) Otherwise, if the token is a broad region label (e.g., \"Europe\", \"Asia & The Far East\"):\n     → put it in CountryGroups[] ONLY if it is (or maps to) an allowed <country_group_aliases> value; otherwise ignore.\n\nIMPORTANT:\n– CountryGroups must contain ONLY values from <country_group_aliases>.\n– The same token must not appear in both Countries[] and CountryGroups[].\n\n2b. \"WORLDWIDE\" HANDLING (UNAMBIGUOUS)\n– If the document ONLY says \"Worldwide\" (or equivalent) with no explicit list:\n  * Countries = null\n  * CountryGroups = [\"Worldwide\"]\n\n– If the document says \"Worldwide\" AND ALSO lists specific countries/groups:\n  * Extract all listed countries into Countries[] (and allowed-group tokens into CountryGroups[] per 2a)\n  * Add \"Worldwide\" to CountryGroups[] ONLY if it is explicitly stated as a separate scope phrase.\n\n– If the document says \"Worldwide excluding [territories]\":\n  * CountryGroups = [\"Worldwide\"]\n  * Do NOT place excluded territories into Countries[] or CountryGroups[]\n  * Record the exclusions in _links (traceability) / notes, but keep final arrays clean.\n\n3. EXCLUSION HANDLING\n\n– Any explicitly excluded territories or countries (e.g., “Excluded Territories: Russia, Belarus, Ukraine…”) must NEVER appear in either Countries or CountryGroups fields.  \n– If a phrase like “Worldwide excluding Russia, Belarus and Ukraine” is present:\n  * CountryGroups = [\"Worldwide\"]  \n  * Excluded countries are removed from Countries  \n  * Final result = Worldwide coverage without excluded entries  \n\n\n4. WORLDWIDE FALLBACK LOGIC\n\nIf the contract-level CountryGroups include the value \"Worldwide\", treat it as a valid and complete CountryGroup.\n\nApply the following fallback logic even if no other country or country group information is explicitly defined elsewhere in the document:\n\n– If the contract has no Layers or CoverageSections:\n* Assign CountryGroups = [\"Worldwide\"] directly at the top level\n\n– If the contract has Layers but no CoverageSections:\n* Apply CountryGroups = [\"Worldwide\"] to each Layer\n\n– If the contract has CoverageSections:\n* Apply CountryGroups = [\"Worldwide\"] to each CoverageSection\n\n– If the contract has both Layers and CoverageSections:\n* Apply CountryGroups = [\"Worldwide\"] to each CoverageSection inside each Layer\n\n5. TRACEABILITY\n\n– Always preserve traceability using _links pointing to the contract-level CountryGroups field  \n– Ensure that exclusions are also traceable but not included in Countries or CountryGroups  ",
      "comment": "FFH has specific Country Group list."
    },
    {
      "title": "PARTNERS",
      "body": "CEDENT\nLook for labels such as:\n- \"Cedent\", \"Ceding Company\", \"Reinsured\", \"Company to be Reinsured\"\nThis is typically the party seeking reinsurance.\nIf multiple companies are listed, choose the one directly associated with the word “Reinsured”.\n\nINSURED\nOnly populate this field if a separate insured party is explicitly named (e.g., the ultimate insured).\nIf no distinction is made, set Insured = Cedent.\nIf no mention exists, return null.\n\nBROKER\nLook for:\n- \"Placed through\", \"Broker\", \"Brokerage arranged by\", \"Intermediary\"\nExtract the broker company name (e.g., Aon, Guy Carpenter).\n",
      "comment": null
    },
    {
      "title": "LIMIT FIELDS EXPECTED FOR EACH BUSINESSTYPE",
      "body": "LIMIT FIELD EXPECTATIONS BY BUSINESS TYPE\n\nDetermine which limit fields are relevant based on the BusinessType of the contract.\n\nIMPORTANT:\nAlways attempt to extract all available limit fields from the document.  \nThe system should decide later which fields to validate or display, based on BusinessType.  \nThis avoids missed values due to uncertain classification.\n\nLIMIT FIELDS EXPECTED FOR EACH BUSINESSTYPE\n\nDetermine which limit fields are most relevant based on the BusinessType of the contract.\n\nIMPORTANT:\nFocus on extracting the fields expected for the identified BusinessType, but also extract any other limit values that are clearly present and traceable.  \nThis ensures that no important values are lost due to misclassification, and enables fallback logic or human validation if needed.\n\nPRIORITY LIMIT FIELDS BY BUSINESSTYPE\n\n– If BusinessType = Proportional Treaty:\n  * Primary field: Liability\n  * Optional: Cover, Excess, MainLimit, TotalSumInsured (extract if found, but usually ignored)\n\n– If BusinessType = Non-Prop Treaty:\n  * Primary fields: Cover and Excess\n  * Optional: Liability, MainLimit, TotalSumInsured (extract if found, but usually ignored)\n\n– If BusinessType = Prop Direct OR Prop Fac:\n  * Primary fields: MainLimit, TotalSumInsured\n  * Optional: Liability, Cover, Excess (extract if clearly present)\n\n– If BusinessType is unknown or mixed:\n  * Extract all available fields\n  * Use fallback UI rules or manual review to interpret\n\n– If both proportional and non-proportional features are present:\n  * Split document into logical sections\n  * Apply rules per section or block\n",
      "comment": null
    },
    {
      "title": "COVER and EXCESS (Simple)",
      "body": "LIMITS EXTRACTION FOR SIMPLE CONTRACTS\n\nGENERAL RULES\n– Extract only numeric monetary values (e.g. USD 30,000,000) or the explicit word “Unlimited”.  \n– Do not extract percentages, shares (e.g. \"75%\"), formulas, or textual expressions without numbers.  \n– All values must be explicitly stated and traceable.  \n– If no valid value is found, return null.  \n– Each extracted value must include a proper `_links` reference.\n\n1. COVER FOR SIMPLE CONTRACTS\n\n– Valid indicators of COVER include:  \n  * “Treaty Limit”  \n  * “Limit of Indemnity”  \n  * “Ultimate Net Loss”  \n  * “Sum Insured”  \n  * “Policy Limit”  \n  * Any monetary value immediately followed by “Ultimate Net Loss”  \n  * Explicit “Unlimited” wording (e.g. “Policy Limit is Unlimited”, “Unlimited for Bodily Injury”)\n\nExamples:  \n* “Treaty Limit of NGN 3,000,000 ultimate net loss” → Cover = 3,000,000  \n* “GHS 10,000,000 Ultimate Net Loss each and every loss” → Cover = 10,000,000  \n* “Policy Limit is Unlimited” → Cover = Unlimited  \n\n2. EXCESS FOR SIMPLE CONTRACTS\n\n– Valid indicators of EXCESS include:  \n  * “in excess of”  \n  * “Deductible(s)”  \n  * “Retention”  \n  * “Underlying Loss”  \n  * Explicit “Unlimited” wording (e.g. “Unlimited deductible”)\n\nExamples:  \n* “In excess of NGN 2,000,000 ultimate net loss” → Excess = 2,000,000  \n* “Retention of EUR 500,000” → Excess = 500,000  \n* “Deductible is Unlimited” → Excess = Unlimited  \n\n3. SPECIAL FORMULATIONS\n\n– Accept as COVER any global statement such as:  \n  * “Liability shall not exceed…”  \n  * “The maximum Policy limit shall be…”  \n– If only Liability-style wording is present and no Cover is explicitly named, treat it as Cover.  \n\n4. FALLBACK LOGIC\n\n– If the document defines a global “Treaty Limit” or “Policy Limit” and no other values are present, assign it as Cover.  \n– If both Cover and Excess are missing, return null for each.  \n– Do not infer or invent any limit values.  \n\nIMPORTANT:\nCover may be either a numeric monetary value or the explicit word “Unlimited”.  \nExcess may also be numeric or “Unlimited”.  \nNever assign percentages, quota shares, or derived values as Cover/Excess.  \n====================",
      "comment": null
    },
    {
      "title": "MAIN LIMIT AND TOTAL SUM INSURED (Simple, Prop Fac and Direct)",
      "body": "MAIN LIMIT AND TOTAL SUM INSURED EXTRACTION\n\n1. APPLICABILITY GATE\n\n– Extract MainLimit and TotalSumInsured only if BusinessType ∈ {Prop Direct, Prop Fac}.\n– Do not calculate these fields. Extract only explicitly stated values.\n– If BusinessType is not reliably classified but strong indicators of Prop Direct/Fac exist, extract both fields at contract-level.\n\nNOTE:\nAll alias matching in this section is case-insensitive (ignore uppercase/lowercase differences).\n\n2. FIELD DEFINITIONS AND JSON TARGETS\n\n– MainLimit:\n  * Definition: The maximum monetary limit applicable to the contract as a whole.\n  * JSON target: GeneralInformation.MainLimit (contract-level only).\n\n– TotalSumInsured (contract-level):\n  * Definition: The total insured value declared under the contract.\n  * JSON target: GeneralInformation.TotalSumInsured (contract-level).\n\n– TotalSumInsured (section-level, only for sectioned / layered_with_sections):\n  * Definition: Total insured sum explicitly stated for an individual CoverageSection.\n  * JSON target: CoverageSection.TotalSumInsured (per section).\n\nIMPORTANT:\nDo NOT mix section totals into contract-level TotalSumInsured.\nDo NOT compute totals by summing sections or item lists.\n\n3. SEARCH STRATEGY AND PRIORITY ORDER\n\n1. Contract-level TotalSumInsured (highest priority)\n– Prefer an explicit contract total anywhere in the document:\n  * A line explicitly labelled as total insured value\n  * A “Declared Values” summary that includes a total insured value line\n\n2. Sectioned presentation that still contains an explicit overall total\n– If a table/list shows per-Section sums and ALSO contains a final line/row labelled as an overall total,\n  extract that overall total as GeneralInformation.TotalSumInsured.\n\n3. Section-level TotalSumInsured (CoverageSection.TotalSumInsured)\n– For each CoverageSection, extract its explicit section total when clearly labelled as section total.\n\n4. If ONLY per-Section totals exist and no explicit overall contract total exists\n– Set GeneralInformation.TotalSumInsured = null.\n– Still extract CoverageSection.TotalSumInsured for each section if available.\n\n4. VALID ALIASES AND INDICATORS (CASE-INSENSITIVE)\n\n– Contract-level / overall total aliases:\n  * Total Sum Insured\n  * Total Insured Value\n  * TIV\n  * Total Declared Value\n  * Total TSI\n  * Grand Total\n  * Overall Total\n\n– Section-level indicators (supporting evidence for CoverageSection.TotalSumInsured):\n  * TSI for Section {n}\n  * Section {n} TSI\n  * Interest & Sum Insured (when followed by per-section lines)\n  * Column headers: Sum Insured, Sum Insured (BDT), Sum Insured (USD), Sum Insured (ZAR)\n\nIMPORTANT:\nThe word “Sum Insured” alone is NOT sufficient for contract-level TotalSumInsured unless it is explicitly presented as an overall total (e.g., paired with “Total / Grand Total / Overall Total”).\n\n5. EXTRACTION RULES AND CLEANING\n\n– Extract the numeric value adjacent to the alias/label (same line or same table row), typically the rightmost cell.\n– Clean formatting:\n  – Remove currency symbols/words; do not merge currency into the number.\n  – Remove trailing words like “only”, “approx.”, “payable”.\n  – Convert thousand separators to plain number.\n\n6. EXAMPLES OF HOW TO READ (PATTERNS)\n\n1. Declared Values summary (contract-level):\n– “Declared Values … Total Sum Insured … ZAR 10 411 535 872.00”\n→ GeneralInformation.TotalSumInsured = 10411535872.00\n\n2. Section table with explicit overall total (contract-level + section-level):\n– Section 1 rows + “TSI for Section 1 … 14,000,000,000”\n– Section 2 line  + “TSI for Section 2 … 6,150,000,000”\n– If ALSO present: “Total / Grand Total / Overall Total … <value>”\n→ GeneralInformation.TotalSumInsured = <overall total>\n→ CoverageSection[Section 1].TotalSumInsured = 14000000000\n→ CoverageSection[Section 2].TotalSumInsured = 6150000000\n\n3. Interest & Sum Insured listing with total:\n– “Section 1 – Material Damage – USD 126,500,000”\n– “Section 2 – Business Interruption – USD 67,000,000”\n– “Total – USD 193,500,000”\n→ CoverageSection totals extracted per section\n→ GeneralInformation.TotalSumInsured = 193500000\n====================",
      "comment": null
    },
    {
      "title": "LIABILITY",
      "body": "LIABILITY EXTRACTION\n\nSTEP 1 — SEARCH FOR LIABILITY VALUE (HIERARCHICAL)  \n– Check the document for ANY of the following patterns in the specified order of priority.  \n– Stop at the first match found.  \n– If multiple matches exist at the same priority level, prefer the one that is explicitly labeled as \"Liability\" or \"limit of liability\".\n\nIMPORTANT:\nIf both a per-event/occurrence limit (e.g., \"each and every loss occurrence\") and a term/aggregate limit are present, the per-event/occurrence limit MUST be used for the main /Liability field. \n\n– Priority 0 — Unlimited Liability:\n* If any phrase explicitly states that liability is \"Unlimited\", immediately set Liability = \"Unlimited\" and stop the search.\n\n– Priority 1 — Explicit Liability Phrases:  \n  * \"limit of liability\"  \n  * \"liability shall not exceed\"  \n  * \"limit of liability ... will not exceed [amount]\"\n  * \"maximum liability per policy\" / \"maximum liability... per policy\"  \n  * \"maximum per contract\" / \"maximum limit... per contract\"  \n  * \"maximum amount payable\"  \n  * \"maximum amount recoverable under this agreement\"  \n  * \"the liability of the Reinsurer hereunder shall not exceed\"  \n  * \"maximum value per client\"  \n  * \"maximum value of any one bond\"  \n  * \"maximum aggregate value per plan/project\"  \n  * \"subject to a maximum limit of\"\n\n– Priority 2 — Event / Aggregate Limit Phrases:  \n  * \"Event Limit\"  \n  * \"each and every loss occurrence\"  \n  * \"any one occurrence\"  \n  * \"Term aggregate limit\"  \n  * \"aggregate liability payable\"  \n  * \"annual aggregate limit\"\n\n– Priority 3 — Equivalent Cap Phrases (no \"liability\" keyword required):  \n  * \"[currency] [amount] Ultimate Net Loss each and every loss/per loss/per policy\"  \n  * \"Capacity of Treaty\"  \n  * \"Treaty capacity is limited to\"  \n  * \"Maximum cession\"  \n  * \"The Reinsured shall cede... up to and including...\" — Use this only if it clearly refers to a monetary cap on liability, not just the scope of cession.\n\n– Priority 4 — Surplus Table Extraction:  \n  * If the contract is a Proportional Treaty and includes a Table of Limits with \"Retention\" and \"Surplus\" values, extract the Surplus value as Liability.  \n  * This applies only if each row refers to an individual scope like \"per risk\", \"any one life\", or a business class.  \n  * Example: \"Personal Accident (any one life): Retention = GMD 200,000, Lines = 10 -> Surplus = GMD 2,000,000\" -> Liability = 2,000,000\n\n– Priority 5 — Calculated Reinsurance Share:  \n  * If the contract provides a \"Limit (100%)\" and a \"Reinsurance share\" (e.g., Retention + Reinsurance split), extract the monetary Reinsurance portion as Liability.  \n  * Example: \"Limit (100%) = 2,000,000, Company’s Retention = 40% = 800,000, Reinsurance = 60% = 1,200,000\" -> Liability = 1,200,000\n\n– Priority 6 — Fallback for Proportional Treaties:  \n  * Apply ONLY if BusinessType = \"Proportional Treaty\" and no value was found in Priorities 1-5.  \n  * If the contract specifies a single dominant monetary Cover that functions as a global cap, set Liability = that Cover.  \n  * Mark this as \"assumed Liability\" in the trace.\n\nSTEP 2 — SCOPE ASSIGNMENT  \n– Simple contract:  \n  * Populate /Liability at the root level.  \n– Sectioned or Layered contract:  \n  * Evaluate each section or layer independently using the search hierarchy from STEP 1 within that scope's content.  \n  * Section-level or Layer-level values take precedence.  \n  * Do not propagate contract-level Liability into sections unless the document explicitly states inheritance.\n\nSTEP 3 — FINAL VALIDATION AND FORMATTING  \n– These rules apply to any value found in STEP 1.\n\n– NEGATIVE FILTER (CRITICAL):  \n  * EXCLUDE phrases that define only Sum Insured or eligibility thresholds.  \n  * A value is NOT Liability if it is part of phrases like:  \n    * \"Sum Insured up to …\", \"upto SI\", \"each risk Sum Insured\"  \n    * \"per risk up to …\", \"any one policy up to …\"  \n  * These must be ignored.\n\n– FORMAT:  \n  * Liability must always be a numeric monetary value or the word \"Unlimited\".  \n  * Do not extract percentages, ratios, or calculated expressions.  \n  * Normalize the number by removing unnecessary decimal zeros.\n\nIMPORTANT:  \nIf after exhausting all steps, no valid Liability can be found, return null.",
      "comment": null
    },
    {
      "title": "LIABILITY - CALCULATED REINSURANCE SHARE (STRICT EXCEPTION)",
      "body": "CALCULATED REINSURANCE SHARE (STRICT EXCEPTION)\n\n1. WHEN CALCULATION IS PERMITTED\n – Allowed only for explicitly phrased cessions such as:\n   * “Reinsurance Cession / Quota Share of [NN%] of [Currency Amount] … any one [risk/policy/contract]”.\n   * “[NN%] of the Limit (100%) [Currency Amount] … any one [risk/policy/contract]”.\n – The phrase must contain both:\n   * a percentage NN (0 < NN ≤ 100), and\n   * a base monetary amount with currency (Limit (100%), Treaty Limit, etc.).\n – If the same sentence also states a direct monetary value of the ceded share (e.g. “Reinsurance … GMD 1,200,000”), use that value as Liability without performing any calculation.\n\n2. WHEN CALCULATION IS FORBIDDEN\n – If only a percentage is given without a base amount.\n – If the base amount is expressed as a range or formula (≈, ≥, ≤, “up to %”, “between”, etc.).\n – If the contract is Non-Proportional (for Non-Prop treaties, Liability is not derived from percentages).\n – If the value appears inside a Layer structure (“Layer 1”, “First Excess”, etc.), do not calculate unless an explicit in-layer value is given.\n\n3. HOW TO CALCULATE\n – Compute the reinsurer’s share as: Liability = Limit_100% × (NN / 100).\n – Rounding rules:\n   – remove spaces/thousand separators;\n   – treat dot or comma as decimal mark if used;\n   – if the result has no fractional part → return as integer; otherwise preserve decimals.\n – Return only the numeric monetary value (not the percentage).\n – In `_links`, include the original phrase as citation, without additional explanations.\n\n4. EXAMPLES\n – “Reinsurance Cession: Quota Share of 55.00% of ₦ 250,000,000 any one bond/contract”  \n   → Liability = 137,500,000 (₦).\n\n – “Limit (100%): GMD 2,000,000 any one risk. Reinsurance = 60%”  \n   → Liability = 1,200,000 (GMD).  \n   If the text already states “Reinsurance GMD 1,200,000”, then extract 1,200,000 directly, without calculation.\n\n – “Maximum cession GMD 20,000,000 Total Sum Insured”  \n   → Liability = 20,000,000 (direct, no calculation).\n\nIMPORTANT:\n – This is the ONLY situation where Liability may be derived through calculation.  \n – All other “calculated expressions” remain forbidden.  \n – If both a per-risk Surplus/Maximum Cession and an aggregate Event/Treaty limit are present, use the Surplus/Maximum Cession value for Liability. The Event/Treaty limit must be recorded in `_links` only, not as Liability.\n",
      "comment": null
    },
    {
      "title": "PREMIUMS EXTRACTION LOGIC (Simple)",
      "body": "===============================\nPREMIUMS EXTRACTION LOGIC\n\nGENERAL PRINCIPLE\n\n– Run at contract level FIRST, regardless of structure.\n\nDEPOSITPREMIUM AND MINIMUMPREMIUM\n\n1. HEADINGS TO DETECT (CASE-INSENSITIVE)\n– Canonical:\n  * Deposit Premium\n  * Minimum Premium\n  * Minimum and Deposit Premium\n  * Minimum & Deposit Premium\n  * Flat premium / Flat annual premium\n– Common aliases:\n  * Provisional Premium (treat as Deposit if used as initial payable subject to adjustment)\n– Regex helpers:\n  * Combined M&D: (?i)(minimum.*deposit.*premium|deposit.*minimum.*premium)\n  * Deposit only: (?i)\\bdeposit\\s+premium\\b|(?i)\\bprovisional\\s+premium\\b\n  * Minimum only: (?i)\\bminimum\\s+premium\\b\n  * Flat: (?i)\\bflat(\\s+annual)?\\s+premium\\b\n\n\n2. EXTRACTION RULES (CONTRACT LEVEL)\n\n– For a combined heading (Minimum and Deposit / Minimum & Deposit):\n  – Extract the first valid monetary amount on the same line or within the next 3 lines.\n  – Assign the SAME value to DepositPremium and MinimumPremium.\n\n– For separate headings:\n  – Deposit Premium (or Provisional Premium used as initial payable) → first valid amount → DepositPremium.\n  – Minimum Premium → first valid amount → MinimumPremium.\n\n– For Flat premium (and no other premium type stated at the same scope):\n  – Assign the amount to BOTH DepositPremium and MinimumPremium.\n  – Set PremiumType = Flat Premium at the same scope.\n\n– Multiple occurrences / conflicts:\n  – Prefer values from formal premium summary / payment terms blocks over narrative mentions.\n  – If conflicting at contract level, select the latest definitive statement in the summary area.\n\n– If no applicable heading is found:\n  – Return null for both DepositPremium and MinimumPremium.\n\n3. AMOUNT PARSING AND CLEANING\n\n– Take the first valid monetary amount after the relevant heading (same line or next 3 lines).\n– Clean value:\n  – Remove currency symbols/codes, spaces, grouping commas/points, parentheses, trailing qualifiers (per annum, payable in advance).\n– If one line states both Deposit and Minimum explicitly (e.g., “Deposit… USD 400,000 (Minimum USD 200,000)”):\n  – Map each label to its closest amount.\n\n4. EXCLUSIONS AND DISAMBIGUATION\n\n– Treat as noise unless explicitly the Deposit/Minimum amount itself:\n  – installment/instalment, in installments, adjustment premium, additional/return premium, provisional account.\n– Do not infer Deposit/Minimum from percentage rates.\n– Phrase “not less than USD X” under a Minimum heading:\n  – Extract X as MinimumPremium (do not create ranges).\n\nIMPORTANT:\nWhenever a combined or flat premium is identified, both DepositPremium and MinimumPremium must be populated with the same value.\n======================\n",
      "comment": null
    },
    {
      "title": "TOTAL GROSS PREMIUM",
      "body": "TOTAL GROSS PREMIUM EXTRACTION\n\n1. APPLICABILITY (CRITICAL RULE)\n– Apply this entire logic block ONLY IF the BusinessType is Facultative or Direct.\n– If the BusinessType is Treaty, the TotalGrossPremium field at all levels (contract, layer, section) MUST be null.\n– Do not attempt to extract treaty-related premium figures like EPI, SUPI, or GNPI into this field.\n\n2. PRIMARY KEYWORDS\n– The primary keywords to identify the gross premium are:\n  * \"Premium\"\n  * \"Total Premium\"\n  * \"Gross Premium\"\n  * \"Total Gross Premium\"\n  * \"Total premium payable\"\n\n3. LAYER-LEVEL PREMIUM\n– If a keyword from the list above is found directly associated with a layer identifier (e.g., \"Layer 1\", \"Layer 2\"), the extracted value applies ONLY to that specific layer.\n– Example: For \"PREMIUM: Layer 1: MXN 29,070,000\", assign 29070000 to /Layers[0]/TotalGrossPremium.\n– If premium values are only specified at the layer level, the contract-level /TotalGrossPremium must be null.\n\n4. SECTION-LEVEL PREMIUM\n– If a keyword is associated with a section identifier (\"Section A\", \"Section B\"), the value applies ONLY to that section.\n– Assign the value to /CoverageSections[n]/TotalGrossPremium.\n\n5. CONTRACT-LEVEL PREMIUM\n– If a keyword is found but is NOT associated with a specific layer or section, the value applies to the entire contract.\n– Assign the value to the root-level /TotalGrossPremium.\n\nNOTE:\nThe model must search for premium in this order of priority: Layer-level, then Section-level, then Contract-level.\n\n6. SPECIAL HANDLING RULES\n– Period-Based Premiums:\n  * If premiums are listed for different periods (e.g., \"For Period X...\", \"For Period Y...\"), and one is clearly identified as an \"Annual\" premium, prioritize and extract the Annual amount.\n  * Example: For \"Premium: USD 3,000,000 (100%) Annual, being USD 493,151 (100%) for Period\", the correct value to extract is 3000000.\n– Aggregation:\n  * DO NOT sum layer or section premiums to create a contract-level total unless the document explicitly states a \"Total Premium\" for the entire contract.\n\n7. FORMATTING AND EXCLUSIONS\n– FORMAT:\n  * Extract only the numeric value. Strip currency symbols (USD, MXN), percentage text (\"(100%)\"), and descriptive text (\"Annual\").\n  * Normalize the number by removing unnecessary decimal zeros (e.g., \"3,000,000.00\" becomes \"3000000\").\n– NEGATIVE FILTER (DO NOT EXTRACT):\n  * Explicitly ignore any values associated with Treaty-style premium bases, such as: \"Estimated Premium Income (EPI)\", \"Subject Premium Income (SUPI)\", \"Minimum and Deposit Premium\", \"Rate on Line\".",
      "comment": null
    },
    {
      "title": "EPI and SUPI",
      "body": "ESTIMATED PREMIUM INCOME (EPI) AND SUBJECT PREMIUM INCOME (SUPI)\n\n1. GOAL AND CORE CONCEPT\n\n– Extract two fields:\n  * EstimatedPremiumIncome (EPI)\n  * SubjectPremiumIncome (SUPI)\n\n– EPI and SUPI represent the premium income base of the portfolio subject to the reinsurance contract.\n\n2. SEARCH SCOPE AND LOCATION RULES\n\n– Analyse the entire document.\n\n– Including (but not limited to) the following sections, if present:\n  * INFORMATION\n  * UNDERWRITING INFORMATION\n  * RISK / EXPOSURE INFORMATION\n  * PREMIUM / RATING / ACCOUNTS\n\n– Premium base values may appear inline and do NOT need to be section headers.\n\n3. PREMIUM BASE TERM RECOGNITION\n\nTreat a value as a PREMIUM BASE VALUE if it is associated with any of the following terms (case-insensitive, OCR variations allowed).\n\nEXPLICIT EPI / SUPI TERMS\n– Estimated Premium Income\n– Estimated Original Net Earned Premium Income\n– Estimated Annual Premium Income\n– EPI\n– Subject Premium Income\n– Subject Premium\n– SUPI\n\nNET / RETAINED PREMIUM TERMS\n– Gross Net Retained Premium Income\n– GNRPI\n– Net Retained Premium\n– Net Retained Premium Income\n– Estimated Original Net Retained Premium Income\n– Net Written Premium\n– Net Premium Income\n– GNPI\n– NPI\n– Net Earned Premium\n– NEP\n\nGROSS / PORTFOLIO PREMIUM TERMS\n– Gross Written Premium\n– Gross Written Premium Income\n– Estimated Gross Written Premium Income\n– GWP\n– Gross Premium Income\n– Gross Premiums Written\n– Estimated Portfolio Premium\n– Premium Volume\n– Annual Premium Volume\n– Estimated Gross Net Premium Income\n– Gross Net Premium Income\n\nACCEPTANCE RULE (CRITICAL):\nIf a monetary value is associated with ANY premium base term listed above AND appears in an INFORMATION / UNDERWRITING / EXPOSURE context, THEN this value MUST be accepted as a valid premium base value. Acceptance implies mandatory assignment in subsequent mapping steps.\n\n\nHARD DECISION RULE (MANDATORY):\n\nIf ANY monetary value is associated with ANY premium base term listed in Section 3\nAND a contract year context exists\nTHEN returning null for BOTH EstimatedPremiumIncome and SubjectPremiumIncome IS NOT PERMITTED.\n\nIn such cases, the detected value MUST be used as the premium base at least at contract level.\n\nPRIORITY RULE (MANDATORY):\nIf multiple premium-base values are detected within the same context (e.g. same table, same paragraph, or same INFORMATION block), ALWAYS select the value whose label contains the word \"Income\" or \"Retained\" (e.g. Premium Income, Net Retained Premium), even if other premium-related amounts (e.g. Minimum, Deposit, Adjustment) are present.\n\n4. EXTRACTION RULES\n\n– Extract the monetary amount associated with the premium base term.\n– The value may appear inline (example: “Est. GNRPI 2025: USD 12,500,000”).\n\n– Normalise the extracted value:\n  * Remove currency symbols\n  * Remove commas and spaces\n * Ignore trailing qualifiers (“per annum”, “per year”, “estimated”)\n  * Ensure the result is numeric\n\n\n5. YEAR SELECTION RULE\n\n– If multiple annual values are present, select the value matching the active contract year.\n- If only ONE premium-base value is detected, it MUST be selected.\n\n6. FIELD MAPPING LOGIC\n\n– If both explicit EPI and explicit SUPI are found and are distinct:\n  * EstimatedPremiumIncome = EPI value\n  * SubjectPremiumIncome   = SUPI value\n\n– In all other cases::\n  * EstimatedPremiumIncome = premium base value\n  * SubjectPremiumIncome   = premium base value\n\n\n7. FINAL NORMALISATION (NON-PROP CONTRACTS ONLY)\n\nApply this step ONLY when:\nTypeOfBusiness = Non-Proportional\n\n– After all extraction and mapping steps are completed:\n\nIf only one of the two fields is populated,\nderive the missing field from the populated one.\n\n\n8. EPI AND SUPI STRUCTURE RULES\n\n8.1 APPLICABILITY\n\n– Apply these rules AFTER extraction, validation, mapping and (if applicable) non-prop normalisation are completed.\n\n8.2 SIMPLE AND LAYERED CONTRACTS\n\n– For ContractStructure = \"simple\" OR \"layered\":\n  * EPI and SUPI must be returned only at CONTRACT LEVEL.\n  * Do NOT assign, split, or duplicate EPI or SUPI across Layers.\n\n8.3 SECTIONED CONTRACTS\n\n– For ContractStructure = \"sectioned\" OR \"layered_with_sections\":\n\n  – EPI and SUPI may exist at BOTH levels:\n    – CONTRACT LEVEL (overall programme / portfolio base)\n    – COVERAGESECTION LEVEL (per class, territory, segment, or section), if explicitly provided.\n\nIMPORTANT:\nSection-level values must NOT replace contract-level values when an explicit overall premium base exists.\n\n8.4 CONTRACT LEVEL VALUE SELECTION FOR SECTIONED TABLES\n\n– If a table provides multiple categories (e.g. Fire, Engineering, Misc. Accident)\n  AND also provides an explicit total (e.g. “Total”, “Overall”, “Programme Total”, “EPI Total”):\n\n  * Use the explicit TOTAL as the contract-level EPI and SUPI for the active contract year.\n  * Do NOT calculate totals by summation unless an explicit total is shown in the document.\n\n8.5 SECTION LEVEL VALUE ASSIGNMENT\n\n– If only section-level premium bases are explicitly provided and no overall premium base is stated:\n  * Populate EPI and SUPI at the corresponding CoverageSection level.\n\n9. EXAMPLES\nExample 1 — Information section, retained premium split\nDocument text:\nEstimated Original Net Retained Premium Income 2023: USD 44,500,000 split as follows\nGeneral Marine USD 16,000,000\nOnshore Energy USD 15,500,000\nOffshore Energy USD 13,000,000\n\nInterpretation:\n– The phrase “Net Retained Premium Income” indicates a premium income base.\n– The value is stated for a specific year.\n– The split does NOT invalidate the overall premium base.\n\nResult:\nEstimatedPremiumIncome = 44500000\nSubjectPremiumIncome   = 44500000\n\nExample 2 — Information section, single income line\n\nDocument text:\nEstimated Original Net Earned Premium Income 2025: USD 55,000,000\n\nInterpretation:\n– “Net Earned Premium Income” is a valid premium base term.\n– Appears in INFORMATION section.\n– No competing premium base exists.\n\nResult:\nEstimatedPremiumIncome = 55000000\nSubjectPremiumIncome   = 55000000\n\nExample 3 — Information section, retained account breakdown\nDocument text:\nEstimated Gross Net Premium Income (THB)\nNet Retained Account: THB 1,700,000,000\n\nInterpretation:\n– “Gross Net Premium Income” and “Net Retained Account” describe the portfolio premium base.\n– Sub-lines (Fire, IAR, Engineering) are a breakdown, not alternatives.\n\nResult:\nEstimatedPremiumIncome = 1700000000\nSubjectPremiumIncome   = 1700000000\n\nExample 4 — Non-contractual / informational disclaimer present\n\nDocument text:\nThis Information section does not include contractual terms and conditions.\nEstimated Original Net Retained Premium Income 2023: USD 44,500,000\n\nInterpretation:\n– Informational disclaimer does NOT invalidate the premium base.\n– The number is explicitly provided for underwriting / exposure assessment.\n\nResult:\nEstimatedPremiumIncome = 44500000\nSubjectPremiumIncome   = 44500000",
      "comment": null
    },
    {
      "title": "PREMIUMRATE AND PREMIUMTYPE",
      "body": "---------------------------------------------------------------------\nPREMIUMRATE AND PREMIUMTYPE\n\n1. DETECTION SCOPE\n\n– Scan the entire document (tables + prose).\n– Indicators of a rate:\n  * “Premium rate”, “at a rate of … %”, “Rate: …%”\n  * Phrases like: “% of (net) subject written premium / gross net (written|retained) premium / premium income”\n  * Regex for % (incl. OCR variants):\n    (?i)\\b(\\d{1,3}(?:[.,]\\d{1,6})?)\\s*(?:%|percent|per\\s*cent|°/o|o/o)\\b\n– Treat as valid PremiumRate any phrase containing:\n  “at a rate of … %” OR “premium at a rate of … %” OR “a rate of … % multiplied by … premium”.\n\n\n2. CONTEXT FILTER FOR PERCENTAGES\n\n– A detected % is a premium rate only if the same line/sentence also contains any of:\n  “premium”, “subject premium”, “written premium”, “GNWP”, “GNPI”, “GWP”,\n  “gross net (written|retained) premium”, “premium income”.\n– Ignore % tied to non-rate concepts:\n  “of losses”, “incurred losses”, “additional premium”, “brokerage”, “commission”, “profit commission”.\n\n3. EXTRACTION RULES\n\n– If a % passes the context filter:\n  – Premium.PremiumRate = numeric value (strip sign; normalise comma→dot)\n  – Extract Deposit/Minimum Premium separately when present (“deposit premium”, “minimum premium”, “adjusted to an amount equal to the rate …”).\n\n– If only a flat amount is stated and no valid % is found:\n  – Premium.PremiumRate = null\n  – Premium.PremiumType = \"Flat Premium\"\n\n– If both a valid % and a flat/deposit amount appear:\n  – Premium.PremiumRate = rate value\n  – Extract Deposit/Minimum Premium separately\n\n– If PremiumRate is detected, always set PremiumType = \"Fixed Rate\".\n– Do not require the exact word “Premium” immediately before/after the %;\n  allow linking through phrases like “at a rate of … % multiplied by (Gross Net Written Premium / GNWP)”.\n\n\n4. CONSISTENCY MAPPING (HARD RULE)\n\n– If Premium.PremiumRate is not null → Premium.PremiumType = \"Fixed Rate\"\n– Do not leave Premium.PremiumType null when Premium.PremiumRate exists.\n– Allowed values (exact): \"Fixed Rate\" | \"Flat Premium\"\n\n5. NORMALISATION\n\n– Numbers returned as pure numerics (e.g., 2.8897).\n– Prefer the first valid contract-level rate unless section logic overrides elsewhere.\n\n6. EXAMPLES\n\n– Fixed Rate:\n  Text: “… 9.0% of the net subject written premium … subject to a minimum and deposit premium of $576,000 …”\n  Output:\n    Premium.PremiumRate = 9\n    Premium.PremiumType = \"Fixed Rate\"\n    Premium.DepositPremium = 576000\n    Premium.MinimumPremium = 576000\n\n– Flat Premium:\n  Text: “A flat premium of USD 10,000,000 per annum, payable in four instalments.”\n  Output:\n    Premium.PremiumRate = null\n    Premium.PremiumType = \"Flat Premium\"\n\n\n---------------------------------------------------------------------\n\nRATEOFEXCHANGE\n\n– Headings and indicators:\n  * “Rate of exchange”\n  * “Exchange rate”\n  * “1 USD = 0.92 EUR”, “rate applied …”\n\n– Extraction rules:\n  * Detect numeric exchange ratios between two currencies.\n  * Assign RateOfExchange as the numeric factor (use the base currency as stated in the text).\n  * If multiple rates appear (e.g., forward vs. settlement), choose the one defined in the contract summary or explicitly tied to premium calculations.\n\n– Scope:\n  * Extract only at the level where it is explicitly mentioned (contract or section).\n  * Do not propagate unless clearly marked as applying globally.\n\n---------------------------------------------------------------------\n\nTOTALGROSSPREMIUM\n\n– Headings and indicators:\n  * “Total Gross Premium”\n  * “Gross Premium”\n  * “Total premium payable”\n\nExtraction rules:\n  – Extract the numeric value associated with the total premium.\n  – Clean formatting (remove symbols, trailing words like “payable in advance”).\n  – If multiple totals are stated (e.g., per installment vs overall total):\n    * Use the global contract-level total if available.\n  – Return null if only partial totals (installments, breakdowns) are given without a consolidated figure.\n\nScope:\n  – Extract primarily at contract level.\n  – If sections/layers have their own totals, extract separately for those scopes.\n\nSECTION-AWARE EXTRACTION (ADDITIVE RULE)\n\nIf a premium total is explicitly stated in direct association with a specific section or coverage (e.g. “Section 1 – Property Damage”,“Section 2 – Business Interruption”):\n\n – Treat the value as TOTALGROSSPREMIUM at SECTION LEVEL.\n– Do NOT promote section-level totals to contract level unless an explicit overall total gross premium is stated elsewhere.\n\n---------------------------------------------------------------------\n\nOUTPUT RULES\n\n– Always include all premium-related fields in output:\n  * EstimatedPremiumIncome\n  * SubjectPremiumIncome\n  * MinimumPremium\n  * DepositPremium\n  * PremiumRate\n  * PremiumType\n  * RateOfExchange\n  * TotalGrossPremium\n– Use null for fields not found.\n– Ensure numeric values are clean and traceable .",
      "comment": null
    },
    {
      "title": "COMMISSION (ALL)",
      "body": "=====================\nCOMMISSION EXTRACTION\n\n– Detect phrases like “Commission: 5%”, “Section Commission”, “Commission payable”.  \n– Extract the percentage value (0–100) and assign it to the field Commission.  \n\n– If multiple percentages are written together with “+” (e.g., “12.5% + 7.5%”), add them into a single Commission value (e.g., 20).  \n– Always output as a number without trailing zeros after the decimal (e.g., 20 not 20.0, 12.5 not 12.50).  \n\n– Exclude Brokerage: if the label contains “brokerage”, “total brokerage”, “broker commission”, or “placing commission”, do not map it to Commission (use Brokerage if available, otherwise ignore for Commission).  \n– If a line mentions both “commission” and “brokerage”, treat it as Brokerage, not Commission.  \n=====================",
      "comment": null
    },
    {
      "title": "BROKERAGE",
      "body": "BROKERAGE EXTRACTION\n\n- Detect phrases like “Brokerage”, “Total Brokerage”, “Broker Commission”, or “Placing Commission”.\n- Extract the FIRST percentage that immediately follows the brokerage cue on the same line/cell (allow a line break after the cue).\n- Ignore any subsequent percentages in the same line/paragraph if tied to non-brokerage terms: “tax(es)”, “VAT”, “GST”, “withholding”, “levy”, “fees/charges”.\n\n- If multiple percentages are written together with “+” (e.g., “5% + 2.5%”), add them into a single Brokerage value (e.g., 7.5).\n- Always output as a number without trailing zeros after the decimal (e.g., 7.5, 10).\n\n- Do not confuse Brokerage with Commission. If a line contains both “commission” and “brokerage”, map it only to Brokerage.\n=====================",
      "comment": null
    },
    {
      "title": "SHARE",
      "body": "================\nSHARE — UNIVERSAL EXTRACTION LOGIC\n\n1. KEYWORD DEFINITIONS (SINGLE SOURCE OF TRUTH)\n– These keywords apply universally, whether at the contract, layer, or section level.\n– OFFER KEYWORDS:\n  * \"Offer:\", \"Offered line\", \"Offered share\", \"Offer hereunder\", \"Offered participation\", \"Total Offer\", \"Total offered line\", \"Total offered share\", \"Order Hereon\".\n– WRITTEN KEYWORDS:\n  * \"Written Line\", \"Written share\", \"Written Line Participation\", \"Signed line\", \"Signed share\", \"Signed participation\", \"Reinsurer’s Share\", \"Reinsurer’s Share & Acceptance\", \"Share & Acceptance\".\n\nIMPORTANT:\nIf both \"Written\" and \"Signed\" keywords appear for the same scope, the Signed value takes precedence.\n\n2. EXTRACTION HIERARCHY AND RULES\n– The model must search for shares in the following order of priority:\n\n– A. LAYER-LEVEL AND SECTION-LEVEL SHARES (HIGHEST PRIORITY)\n  * If any of the keywords defined above are found directly associated with a specific Layer or CoverageSection identifier, the extracted percentage applies ONLY to that Layer or Section.\n  * Examples:\n    * \"Layer 1: Written Line 40%\" -> Assigns 40 to /Layers[0]/Written.\n    * \"Section A — Offer: 30%\" -> Assigns 30 to /CoverageSections[0]/Offer.\n    * \"Order Hereon: Layer 1: 50.00% of 100%\" -> Assigns 50 to /Layers[0]/Offer.\n  * If no explicit share keywords are found within the scope of a specific layer or section, their Offer/Written fields must be null.\n\n– B. CONTRACT-LEVEL SHARES (ROOT LEVEL)\n  * If any of the keywords are found but are NOT directly associated with a specific Layer or Section, the value applies to the entire contract at the root level.\n\n3. SPECIAL AND FALLBACK RULES\n– These rules apply after checking the hierarchy in Step 2.\n\n– WRITTEN FROM PARTICIPATION TABLES:\n  * If a table includes a column titled \"Participation\" or \"Participation Percentage\", and a row is labelled \"Total\", use that row's value as the contract-level Written. Do not sum individual rows.\n\n– DEFAULT ASSIGNMENT (UNLABELLED SHARE):\n  * If the document contains a clear standalone percentage (e.g., \"10% of 100%\") and none of the defined keywords appear nearby, assign that value to BOTH Offer and Written at the contract level.\n\n– OFFER FALLBACK FROM WRITTEN:\n  * If, after all other rules, the contract-level Offer is null but Written has a value, set Offer = Written.\n\n4. UNIVERSAL FILTERS AND FORMATTING\n– These rules apply to all extracted share values.\n\n– NEGATIVE FILTER:\n  * Ignore any percentage found in the same phrase as: \"Commission\", \"Brokerage\", \"Deposit Premium\", \"Rate on Line\", \"Tax\", \"ECO\", \"LOC\", \"Collateral\".\n\n– PERCENTAGE SELECTION:\n  * For patterns like \"X% of 100%\", always extract X.\n  * Ignore crossed-out or superseded percentages.\n\n– FORMAT:\n  * Extract numeric values only (strip \"%\").\n  * Normalize the number by removing unnecessary decimal zeros (e.g., 100.00 becomes 100, 12.50 becomes 12.5).\n  * If no valid percentage can be confidently identified, return null.",
      "comment": null
    },
    {
      "title": "CLAIMS and ADMIN CONDITIONS",
      "body": "============================\nCLAIMS\n– This section covers details related to claims handling.\n\nCLAIM BASIS\n\n1. OBJECTIVE\n\n– Determine whether the contract operates on a “Risks Attaching”, “Losses Occurring”, or “Claims Made” basis.\n– The Claim Basis is often hidden inside other clauses and does NOT always have a “Claim Basis” heading. The model must actively search for attaching-basis wording using the strategy below.\n\n2. PRIORITY SEARCH STRATEGY\n\n2.1. PRIMARY SEARCH (HIGHEST PRIORITY): PERIOD HEADER WITH CONTRACT DATES\n\n– First, locate the clause whose HEADER contains the word “Period” (for example “PERIOD”, “Period of Insurance”) and whose BODY text contains the contract dates (a start date and an end date such as “from 1 January 2025 to 31 December 2025”).\n– Treat the earliest such “Period” header on the FIRST one or two pages as the primary source. If several “Period” headers exist, choose the earliest one that contains a bounded period (start and end dates).\n\n– Read the full text under this “Period” header, including any continuation paragraphs below it.\n\n– Within this PERIOD clause, search for attaching-basis wording. Typical patterns include (but are not limited to):\n  • “in respect of all losses occurring during the period …”\n  • “losses occurring during the twelve months from …”\n  • “loss occurrence during the period from … to …”\n  • “cover applies to risks attaching during the period …”\n  • “shall apply to Risk Attaching during the period …”\n  • “claims made during the period …”\n  • “claims first made during the period …”\n  • “this policy is written on a Claims Made basis”\n  • “(‘Claims Made’ basis)”\n\n– Any phrase that states when cover, risk, loss or claim attaches (for example, “losses occurring during the period”, “risks attaching during the period”, “claims made during the period”) must be treated as an explicit Claim Basis, even when the contract does not use the words “Claim Basis” or the word “basis” at all.\n\nIf attaching-basis wording is found:\n– First, write the explanation into Claims.ClaimBasisDebug.\n– Then normalise the result to a canonical value from <aliases> claim_basis_aliases.\n– Populate Claims.ClaimBasis.\n– Stop searching.\n\n\n\n2.2. SECONDARY SEARCH (FALLBACK): OTHER IMPLICIT LOCATIONS\n\n– If, and ONLY IF, no attaching-basis wording is found in the primary PERIOD clause, perform a secondary search in the following headers and their text:\n  • “Policy Wording”, “Policy Form”, “Policy Form / Wording”\n  • “Coverage”, “Insuring Clause(s)”\n  • “Basis of Cover”, “Basis of Insurance”\n\n– Within these sections, look for the same attaching-basis patterns as above, including explicit phrases such as:\n  • “… (‘Claims Made’ basis)”\n  • “this policy is written on a Losses Occurring basis”\n  • “cover applies only to risks attaching during …”\n\n– If attaching-basis wording is found here, determine the basis, normalise it to the canonical value from <aliases> claim_basis_aliases, populate `Claims.ClaimBasis`, fill `Claims.ClaimBasisDebug`, and STOP searching.\n\n\n2.3 TERTIARY SEARCH (LAST RESORT): DEDICATED CLAIM BASIS SECTION\n\n– Only if both the PRIMARY and SECONDARY searches fail, search for a dedicated section with headings such as:\n  • “Claim Basis”\n  • “Basis of Cover”\n  • “Basis of Insurance”\n\n– Read the text under such a heading and extract any attaching-basis wording using the same rules.\n– If a basis is found, normalise it to the canonical value from <aliases> claim_basis_aliases, populate `Claims.ClaimBasis` and `Claims.ClaimBasisDebug`, and STOP searching.\n\n3. EXAMPLES OF CORRECT EXTRACTION\n\nExample 1 – Period clause on the first page:\nHEADER: PERIOD\nTEXT: “In respect of all losses occurring during the period 1 January 2025 to 31 December 2025, both days inclusive…”\n\nClaims.ClaimBasisDebug:\nFound phrase \"losses occurring during the period\" inside the PERIOD header that contains the contract start and end dates. \nThis wording explicitly defines a Losses Occurring attaching basis.\n\nClaims.ClaimBasis:\nLosses Occurring\n\n\nExample 2 – Policy Wording:\nHEADER: POLICY FORM / WORDING\nTEXT: “As per MSFCI’s Directors’ and Officers’ Liability Insurance Policy Form (‘Claims Made’ basis).”\n\nClaims.ClaimBasisDebug:\nDetected explicit phrase \"'Claims Made' basis\" under the POLICY FORM / WORDING header. \nThis directly states the attaching basis.\n\nClaims.ClaimBasis:\nClaims Made\n\nExample 3 – Coverage clause:\nHEADER: COVERAGE / INSURING CLAUSE(S)\nTEXT: “Cover applies only to risks attaching during the contract period stated above.”\n\nClaims.ClaimBasisDebug:\nIdentified the phrase \"risks attaching during the contract period\" under the COVERAGE header. \nThis wording clearly defines a Risks Attaching attaching basis.\n\nClaims.ClaimBasis:\nRisks Attaching\n\n4. OUTPUT SEQUENCE (Debug FIRST, Result SECOND)\n\nThe model must always produce the Claim Basis in two steps:\n\nClaims.ClaimBasisDebug  \n   – FIRST extract or quote the key phrase(s) that indicate when cover, risk, loss, or claim attaches.  \n   – Identify the HEADER where the phrase was found (e.g. “PERIOD”, “POLICY WORDING”, “COVERAGE”).  \n   – Briefly explain why this phrase signals a specific attaching basis.  \n   – This debug explanation MUST be generated before the final basis is chosen.\n\nClaims.ClaimBasis  \n   – AFTER completing Claims.ClaimBasisDebug, normalise the attaching-basis phrase to a canonical value from <aliases> claim_basis_aliases.  \n   – If no attaching-basis wording is found anywhere after following all steps, set Claims.ClaimBasis = null.\n\n\n\n---------------------------------------------------\n\n2. CLAIM ADVICE LIMIT\n\n– Detect phrases: \"Claim Advice Limit\", \"Advice threshold\", \"Notification threshold\", \"Claims to be advised if exceeding\", \"Notify reinsurers if over\".\n– Extract a monetary amount (number + currency). Clean formatting (e.g., thousands separators) and standardize currency to 3-letter code.\n– Output: set Claims.ClaimAdviceLimit to the numeric amount; null if not found.\n– _links: add pointer \"/Claims/ClaimAdviceLimit\" with page and exact matched text.\n\n----------------------------------------------------\nADMIN CONDITIONS\n\n1. CESSION BASIS\n\n– Detect phrases: \"Cession Basis\", \"Basis of cession\", \"ceded on\".\n– Normalize to one of the allowed values:\n  * Accounting Year — aliases: \"AY\", \"accounting year basis\"\n  * Occurrence Year — aliases: \"OY\", \"occurrence year\", \"occurence year\"\n  * Underwriting Year — aliases: \"UWY\", \"underwriting year\", \"underwritting year\"\n– Output: set AdminConditions.CessionBasis to the normalized string or null if not stated.\n– _links: add pointer \"/AdminConditions/CessionBasis\" with page and exact matched text.\n\n\n2. CASH CLAIM LIMIT\n\n– Detect phrases: \"Cash Claim Limit\", \"Maximum Cash Settlement\", \"Maximum claim in cash\", \"Payable in Cash\".\n– Extract a monetary amount and currency; clean as for Claim Advice Limit.\n– Output: set AdminConditions.CashClaimLimit to the numeric amount; null if not found.\n– _links: add pointer \"/AdminConditions/CashClaimLimit\" with page and exact matched text.\n\n\nIMPORTANT:\n\n– Never infer values; only extract when explicitly stated.\n– Numbers are stored without \"%\" or currency symbols; keep currency as part of the citation text in _links.\n– Always include all four fields in output, even if null.\n",
      "comment": null
    },
    {
      "title": "CLASSIFICATIONS (Sections)",
      "body": "COVERAGESECTION CLASSIFICATION\n\n– For each CoverageSection:\n    – First, attempt individual classification of the section itself.\n    – If valid MainClass and Class are already present:\n        * Skip classification and retain values.\n\n– Classification logic must rely on controlled vocabulary:\n    * Only values defined in allowed_mainclasses and allowed_classes_per_mainclass may be used.\n    * Do not invent free-text values or fallback to “unknown”.\n    * There must always be an attempt to map using official alias and fallback structures.\n    * If the alias mapping contains single values, assign them directly.\n    * If it returns lists, assign both MainClass and Class as arrays.\n\n– Matching must be based on containment logic (substring check), not strict equality after cleaning.\n    Examples of valid matches:\n        * “Burglary (per risk)” → match alias “Burglary”\n        * “Cash in Safe (a.o. Safe)” → match alias “Cash”\n        * “Fidelity Guarantee per person” → match alias “Fidelity Guarantee”\n    – If SectionName contains a known classification term from the alias mapping \n      (e.g., “Burglary”, “Fidelity Guarantee”, “Cash”), treat this as a valid match, \n      even if additional qualifiers or formatting are present \n      (e.g., “(per risk)”, “in Safe”, etc).\n    – Ignore parenthetical expressions and descriptive suffixes only if they prevent \n      detection of the core term.\n\n– Valid section header patterns include:\n    * Section [A-Z] or Section [A-Z] – [text] (e.g., “Section A – Engineering”)\n    * Section \\d+, SECTION \\d+, or Section \\d+ – [text] \n      (e.g., “Section 1”, “SECTION 2 CONSEQUENTIAL LOSS”)\n    * Sections \\d+ and \\d+, Sections \\d+( and \\d+)* \n      (e.g., “Sections 1 and 2”) — must be split into multiple CoverageSections.\n    * Class-based headers such as:\n        Class A), Class B), Class C)\n        → interpret as valid section headers\n        → assign SectionName = \"Class A\", etc.\n        → extract following text as section description or title.\n    * Section names using parentheses or lowercase letters \n      (e.g., “Section a)”, “Section b)”) — must also be treated as valid.\n    * Keywords like Hull & Machinery, Section A:, Section B:, \n      LIMITS – Section a), SECTION A: also indicate section start if clearly scoped.\n\n– Section headers may be preceded by group headers such as \"LIMITS:\", \"COVER:\", or \"PREMIUM:\", \n  but must be parsed separately per section.\n\n– If SectionName exists and both MainClass and Class are null:\n    – Clean SectionName:\n        * Remove numbering (e.g., “a)”, “1.”)\n        * Strip punctuation and extra whitespace.\n    – Attempt alias match using coverage_section_aliases:\n        * Use containment logic (not strict equality).\n        * Ignore descriptive suffixes and parenthetical phrases if they obstruct detection.\n    – If alias match is successful:\n        * If alias returns a pair → assign MainClass and Class.\n        * If alias returns arrays → assign as lists.\n        * (Optional) Add debug object:\n          \"debug\": {\n            \"original_name\": \"...\",\n            \"cleaned_name\": \"...\",\n            \"matched_alias\": [\"MainClass\", \"Class\"]\n          }\n    – If no exact alias match:\n        * Try partial/fuzzy match based on known terms.\n    – If only Class is confidently identified:\n        * Use allowed_classes_by_mainclass to infer MainClass.\n        * Iterate through allowed MainClass groups and assign the group where the Class is valid.\n\n– If all SectionName-based classification attempts fail:\n    * Attempt to classify using financial indicators:\n        – Review limits, premiums, or known insurance keywords within section content.\n        – If clear patterns emerge (e.g., one limit per class), use these to assign MainClass/Class.\n        – Only assign values present in allowed classifications.\n\n– Additional section-level detection rules:\n    * Always attempt alias mapping (coverage_section_aliases) on any candidate term found within the section, \n      whether from SectionName, table cells, financial breakdowns, or opening coverage statements.\n    * Coverage statements inside the section body may be used if they contain clear coverage anchors \n      (\"covers\", \"covered interests\", \"in respect of\", \"applicable to\", etc.) and are not in \n      exclusion/definition/general conditions contexts.\n    * If multiple valid classes are detected in the same section, return them as unique ordered lists \n      for that section’s MainClass and Class.\n    * Fallback to GeneralInformation values only if no reliable class indicators are found in the section \n      after alias mapping.\n\n– Do NOT classify based on:\n    * Exclusions\n    * Warranties\n    * General Conditions\n    * Clauses\n\n– If classification fails for ALL sections:\n    * And GeneralInformation/MainClass contains valid entries:\n        – Assign them to each CoverageSection.\n    * If GeneralInformation/Class contains values:\n        – Assign them as fallback.\n\nIMPORTANT:\nClassification fields must not be left null unless no structured information and no valid fallback exist.\n\n",
      "comment": null
    },
    {
      "title": "COUNTRIES / COUNTRYGROUPS (Sections and Layers with Sections)",
      "body": "COUNTRIES / COUNTRYGROUPS IN SECTIONED CONTRACTS\n\n1. DETECTION LOGIC\n\n– If ContractStructure = \"sectioned\" or \"layered_with_sections\":\n   * Detect territorial scope statements **inside each CoverageSection**.\n   * Valid phrases are the same as at contract level:\n     \"Covered Countries\", \"Territories\", \"Regions\", \"Applicable to\",\n     \"in respect of risks located in ...\", \"Geographical Limits\", \"Worldwide\", etc.\n   * Section-local statements (e.g., “Section A: Risks located within Vietnam”, \n     “Section C: Worldwide coverage excluding USA/Canada”) must be assigned \n     only to that CoverageSection.\n\n2. EXTRACTION RULES\n\n– Each CoverageSection must contain its own Countries[] and CountryGroups[] fields.\n– Apply the same mapping rules as for contract-level countries:\n   * Individual countries → Countries[]\n   * Broader regions → CountryGroups[] (must match <country_group_aliases>)\n   * Explicit countries listed within a group → extract both group + individual countries\n   * Exclusions → excluded countries must never appear in Countries[] or CountryGroups[]\n\n3. FALLBACK LOGIC\n\n– If a CoverageSection contains no explicit territorial statements:\n   * Inherit contract-level Countries[] and CountryGroups[]\n   * If contract-level contains “Worldwide” → assign [\"Worldwide\"] to the section\n   * If both contract-level and section-level are null → leave null (do not invent values)\n\n4. LAYERED_WITH_SECTIONS HANDLING\n\n– For contracts with Layers containing CoverageSections:\n   * Extract Countries/CountryGroups inside each section\n   * Apply fallback only if the section itself has no explicit territorial scope\n   * Do not assign contract-level countries directly to the Layer unless no CoverageSections exist\n\n5. TRACEABILITY\n\n– For each CoverageSection, record territorial values in _links under:\n   /CoverageSections/[i]/Countries  \n   /CoverageSections/[i]/CountryGroups\n   – Always cite page and excerpt from the relevant section text\n   – Excluded countries must also have traceability, but must not appear in final fields\n\nIMPORTANT:\n– Never mix contract-level and section-level scope in the same field\n– Countries and CountryGroups must always be resolved at the **most granular level** available\n– If both contract-level and section-level definitions exist, section-level takes precedence\n",
      "comment": null
    },
    {
      "title": "LIMITS EXTRACTION (Sections)",
      "body": "LIMITS EXTRACTION FOR SECTIONED CONTRACTS\n\nExtract all limit values directly from each CoverageSection.\n\n– Key fields:\n* Cover  \n* Excess  \n* MainLimit  \n* TotalSumInsured  \n* Liability  \n\nIMPORTANT:\nEach limit field must contain a numeric monetary value (e.g. USD 30,000,000).  \nDo not extract percentages, shares (e.g. \"75%\"), formulas, or textual expressions.  \nOnly actual monetary amounts are valid.\n\n– If no limit is found in a section, return null  \n\nCOVER FOR SECTIONED CONTRACT\n\n– Valid indicators of COVER include:\n* “Limit of Indemnity”  \n* “Ultimate Net Loss”  \n* “Sum Insured”  \n* “Policy Limit”  \n* Any monetary value immediately followed by “Ultimate Net Loss”  \n\nExamples:\n* “This section... is to pay up to GBP 5,000,000 ultimate net loss” → extract as Cover  \n* “Limit(s): USD 10,000,000 in excess of USD 5,000,000” → extract Cover = 10M, Excess = 5M  \n\nEXCESS FOR SECTIONED CONTRACT\n\n– Valid indicators of EXCESS include:\n* “in excess of”  \n* “Deductible(s)”  \n* “Retention”  \n* “Underlying Loss”  \n\nExamples:\n* “Excess: USD 2,000,000 deductible” → extract as Excess  \n* “Retention of EUR 500,000” → extract as Excess  \n\n– If Cover is not explicitly mentioned but any alias phrase is followed by a numeric value and currency, extract as Cover \n",
      "comment": null
    },
    {
      "title": "PREMIUMS EXTRACTION FOR SECTIONED CONTRACTS",
      "body": "====================================\nPREMIUMS EXTRACTION FOR SECTIONED CONTRACTS\n\n– Extract all premium-related values directly from each CoverageSection\n\n– Key fields:\n* PremiumRate  \n* PremiumType  \n* DepositPremium  \n* MinimumPremium  \n* EstimatedPremiumIncome\n* CashClaimLimit  \n* CessionBasis  \n\nPREMIUMRATE and PREMIUMTYPE PER COVERAGESECTION AND LAYERS[].COVERAGESECTIONS[]\n\n- If the document lists percentage-based rates for each section (e.g., “Section 1 – 5.75%”), extract the numeric value and assign it to PremiumRate.\n- In such cases, also set PremiumType = \"Fixed Rate\".\n- If a fixed monetary premium is given instead of a rate (e.g., “Flat premium of USD 1,000,000”), assign it to Deposit/Minimum Premium and set PremiumType = \"Flat Premium\".\n- Match the rate to the correct section by order or section label.\n- If the rate is missing or ambiguous, return null for both PremiumRate and PremiumType.\n\nCESSIONBASIS IN EACH COVERAGESECTION AND LAYERS[].COVERAGESECTIONS[]\n\n- Look for phrases such as “Cession Basis: Original Conditions”, “on a Risk Attaching basis”, “claims made basis”, “loss occurring basis”, etc.\n- Extract the exact string that follows “Cession Basis”, or identify the basis from common phrasings.\n- Valid values include (but are not limited to): “Original Conditions”, “Risk Attaching”, “Loss Occurring”, “Claims Made”.\n- If multiple bases are described (e.g., different for different lines), assign the one most clearly linked to the current CoverageSection.\n- Return null if basis is missing or ambiguous.\n\nCASHCLAIMLIMIT IN COVERAGESECTIONS AND LAYERS[].COVERAGESECTIONS[]\n\n- Look for monetary values mentioned near phrases like “Cash Claim Limit”, “Maximum Cash Settlement”, or “Payable in Cash”.\n- These often appear as: “Cash Claim Limit: EUR 250,000”, “Maximum claim in cash – USD 1,000,000”.\n- Extract the numeric amount using the same currency-cleaning logic as for Cover/Excess.\n- Return null if no valid limit is found or if the limit applies globally and not to a specific CoverageSection.\n\nDEPOSITPREMIUM AND MINIMUMPREMIUM PER COVERAGESECTION AND LAYERS[].COVERAGESECTIONS[]\n\n- If the contract lists these values by section (e.g., “SECTION 1: GBP 1,000 plus USD 5,557,000”), extract the USD amount when available and assign it to the relevant field.\n- Match premiums to the correct CoverageSection based on section label or order.\n- If the line includes both currencies (e.g., GBP + USD + CAD), extract only one — preferably USD — do not sum.\n- If the heading is “Minimum and Deposit Premium”, assign the same value to both fields.\n- Do not omit fields. Return null if a value is not present or not clearly stated.\n\n",
      "comment": null
    },
    {
      "title": "EPI and SUPI (Sections)",
      "body": "=======================================\nESTIMATEDPREMIUMINCOME (EPI) AND SUBJECTPREMIUMINCOME (SUPI) IN SECTIONED CONTRACTS\n\n1. DETECTION SCOPE\n\n– If ContractStructure = \"sectioned\" or \"layered_with_sections\":\n   * Detect Estimated Premium Income (EPI) and Subject Premium Income (SUPI) **per CoverageSection**.\n   * Valid headings and abbreviations are the same as at contract level:\n     \"Estimated Premium Income\", \"EPI\", \"Estimated annual premium income\"\n     \"Subject Premium Income\", \"SUPI\", \"Subject premium\"\n   * Tables linking classes of business (Fire, Engineering, Miscellaneous Accident, etc.) to premium values\n     must be parsed as CoverageSection-level EPI/SUPI.\n\n2. EXTRACTION RULES\n\n– For each CoverageSection:\n   * Locate the row(s) or text blocks matching that section’s class (e.g., Fire, Engineering, Miscellaneous Accident).\n   * Extract the first valid monetary amount following the section reference.\n   * Clean the value:\n     – Remove currency symbols, commas, spaces, trailing words.\n     – Ensure numeric value with traceability.\n\n– If the same table provides multiple section rows:\n   * Assign the correct value only to the corresponding CoverageSection.\n   * Do not duplicate across unrelated sections.\n\n– If multiple premium bases exist for the same section (e.g., \"Fire – Quota Share\" and \"Fire – Surplus\"):\n   * Aggregate them by summation into the section’s EstimatedPremiumIncome.\n   * Preserve traceability (_links) for each component row.\n   * SubjectPremiumIncome remains null unless explicitly defined.\n\n3. SUPI VS EPI MAPPING\n\n– Apply the same substitution rules as for simple contracts:\n   * If only SUPI is present, copy to both fields.\n   * If only EPI is present, copy to both fields.\n   * If both are present and distinct, keep separate.\n– At section level, apply substitution independently per section.\n\n4. OUTPUT AND NULLING RULES\n\n– Each CoverageSection must include:\n   * EstimatedPremiumIncome\n   * SubjectPremiumIncome\n– If neither is found for a section, return null for both.\n– If only one is found, apply substitution rules to populate both.\n– Do not overwrite unrelated sections — null values must remain explicit.\n\n5. TRACEABILITY\n\n– Always preserve traceability in _links using JSON Pointer paths:\n   /CoverageSections/[i]/EstimatedPremiumIncome\n   /CoverageSections/[i]/SubjectPremiumIncome\n– If values are aggregated (e.g., multiple rows rolled up into one section total),\n  create _links entries for each source row.\n\nIMPORTANT:\n– Do not collapse all rows into a single contract-level EPI if the structure is sectioned.\n– Section-level values always take precedence over any global summary.\n– If both global and section-specific EPI are present, return section-specific values and retain global only at the root level.\n---------------------------------------------",
      "comment": null
    },
    {
      "title": "REINSTATEMENTS (Simple and Sections)",
      "body": "REINSTATEMENTS\n\n– Locate sections containing the word \"reinstatement\" (case-insensitive). If not found, set ReinstatementsType = \"<None>\" and leave all other reinstatement fields null  \n– Reinstatements may also appear within individual CoverageSections, either at the top level (in sectioned-only contracts) or inside Layers (in layered + sectioned contracts)  \n\n– If a reinstatement clause is located within a CoverageSection, extract reinstatement-related values for that section using the same extraction logic as defined for Reinstatements at the Layer level  \n\n– These values include:  \n  * ReinstatementsType  \n  * NumberOfReinstatements  \n  * AmountPercentage  \n  * PaymentRule  \n  * CurrencyType  \n  * CalculationRule  \n\n– Use pointer paths like:  \n  * /CoverageSections/1/Reinstatements/PaymentRule  \n\n– If Reinstatements are defined only at the contract level, replicate them into all CoverageSections and Layers as needed, reusing the same _links entry  \n– If they are defined only at the Layer level, replicate into each section inside that layer unless a more specific value is found at the section level  \n– If no reinstatement information is available for a section, set ReinstatementsType = \"<None>\" and all other reinstatement-related fields = null  \n\nIMPORTANT:  \nDo not omit any reinstatement fields in CoverageSections — all must be included in the output JSON and accompanied by proper traceability in _links, even when duplicated from higher levels  \n\n",
      "comment": null
    },
    {
      "title": "LAYERS EXTRACTION LOGIC",
      "body": "LAYERS EXTRACTION LOGIC\n\n– For each layer in the contract, extract and populate the following fields using section-specific parsing rules  \n– A new layer must only be created if the heading or line explicitly includes “Layer” or ordinal terms like “1st excess”, “2nd excess”, etc.  \n– Do not create a layer from numeric-only limit lines unless the word “Layer” is present  \n\nLAYERNUMBER \n  – Assign based on order of appearance (first = 1, second = 2, etc.)  \n\nLIMITS EXTRACTION FOR LAYERED CONTRACTS\n\n– Each Layer must include its own Cover and Excess values  \n– Limits must be parsed independently per Layer (and per CoverageSection inside the layer, if present)  \n– Contract-level Cover and Excess may only be used if no layer breakdown is given  \n\n– Parse values using the following logic:\n  1. Remove currency symbols, commas, and trailing text  \n  2. If value contains “Unlimited” (case-insensitive) → set Cover = \"Unlimited\"  \n  3. Strip all non-digit characters except decimal separators  \n  4. Treat dots or commas between three digits as thousand separators — remove them  \n  5. Treat the last dot or comma as decimal separator  \n  6. Convert to number:\n    – If decimal part = 0 → return as integer (e.g., `5,000,000.00` → `5000000`)  \n    – Else → keep decimal (e.g., `2,500.50` → `2500.5`)  \n  7. Never assign “Unlimited” to Excess  \n  8. Do NOT create new layers for lines like `N5,000,000 Xs N1,000,000` unless they include the word “Layer”  \n  9. Only create a new layer if line contains “Layer” or ordinal phrase like “1st excess”, “2nd excess”\n\n– Within each layer, scan for phrases like:\n  – “Limit of Indemnity”, “Ultimate Net Loss”, “Policy Limit”, “Sum Insured” → assign as Cover  \n  – “in excess of”, “Deductible”, “Retention”, “Underlying Loss” → assign as Excess  \n  – Use numeric values after these phrases as limit values\n\n\nPREMIUM EXTRACTION FOR LAYERED CONTRACTS\n\n– Premiums must be extracted per layer when available  \n– Valid headings include:\n  – “Deposit Premium”, “Minimum Premium”, “Minimum and Deposit Premium”  \n  – Variations like “Minimum & Deposit Premium”, “A Minimum and Deposit Premium of the…”  \n  – Use case-insensitive regex: `(?i)(minimum.*deposit.*premium|deposit.*minimum.*premium)`\n\n– After identifying a premium heading:\n  – Scan subsequent lines for layer indicators (e.g., “Layer 1”, “2nd Layer”)  \n  – For each line:\n    – Extract the **first** numeric value (cleaned of symbols, commas, trailing text)  \n    – Assign to:\n      – DepositPremium → if heading is “Deposit Premium”  \n      – MinimumPremium → if heading is “Minimum Premium”  \n      – Both fields → if heading is combined (“Minimum and Deposit Premium”)  \n\n– If “Flat premium” is mentioned per layer (e.g., “Layer 1 – USD 2,500,000”) and no other premium types are stated:\n  – Assign the value to **both** DepositPremium and MinimumPremium  \n  – PremiumType = “Flat Premium”\n\n– Do not omit MinimumPremium if a combined or flat premium is described — this is a CRITICAL instruction\n\n– If no layer-specific values are found:\n  – Assign extracted premium(s) to contract-level DepositPremium and MinimumPremium  \n  – Use same parsing logic as above  \n\n– If multiple currencies appear on the same line:\n  – Prefer the first mentioned currency (e.g., extract USD if listed before GBP)\n\nPREMIUM TYPE\n\n– If a percentage value is extracted as the PremiumRate for a layer (e.g. \"2.84%\"), then set PremiumType to \"Fixed Rate\" for that layer  \n– If no percentage PremiumRate is found for a layer, assign \"Flat Premium\" as the PremiumType  \n\n\nNUMBER OF INSTALMENTS AND INSTALMENT TYPE\n\n– Look for phrases like “Payable in 4 instalments in advance”  \n– Extract number (e.g., 4) and type (\"In Advance\" / \"In Arrears\")  \n– Match to layer based on order or label  \n\n\nADJUSTMENTS\n\n– FirstPeriod: extract from lines like “First Adjustment: 180 days after expiry”  \n– NumberOfAdjustments: extract numeric if mentioned, else return null  \n\n\nREINSTATEMENTS\n\n– Locate sections containing the word \"reinstatement\" (case-insensitive). If not found, set ReinstatementsType = \"<None>\" and leave all other reinstatement fields null  \n\n\n– These values include:  \n  * ReinstatementsType  \n  * NumberOfReinstatements  \n  * AmountPercentage  \n  * PaymentRule  \n  * CurrencyType  \n  * CalculationRule  \n\n– Use pointer paths like:  \n  * /Layers/2/CoverageSections/1/Reinstatements/AmountPercentage  \n\n– If they are defined only at the Layer level, replicate into each section inside that layer unless a more specific value is found at the section level  \n– If no reinstatement information is available for a section, set ReinstatementsType = \"<None>\" and all other reinstatement-related fields = null  \n\nREINSTATEMENT DETECTION\n\n– A reinstatement clause can start with \"REINSTATEMENT:\" or be found near words like \"1st Layer\", \"2nd Layer\", followed by phrases such as \"Free\", \"@100%\", or \"additional contribution\"  \n– If \"pro rata as to the amount only\" appears in these sentences, assign \"Pro Rata Amount\"  \n– These may be presented without verbs and in condensed formats. Do not ignore them for being incomplete sentences  \n\n\nREINSTATEMENTS TYPE\n\n- If text includes “unlimited reinstatements” → \"Unlimited\"  \n- If it states “no reinstatement” → \"<None>\"  \n- If it says “one reinstatement” or “single full reinstatement” → \"Specific\" and NumberOfReinstatements = 1  \n- If text includes “2 reinstatements”, “3 reinstatements”, etc. → \"Specific\" and extract number  \n\n\nNUMBER OF REINSTATEMENTS\n\n– Integer  \n– Required if type = \"Specific\"  \n\n\nAMOUNT PERCENTAGE\n\n– Extract % value if mentioned (e.g. \"100% Additional Premium\")  \n\n\nPAYMENT RULE\n\n– Determine the payment rule strictly based on exact phrasing in a single uninterrupted sentence. Do not infer or guess  \n– Return one of the following values:  \n  * Pro Rata Amount And Time  \n  * Pro Rata Amount  \n  * Pro Rata Time  \n  * Free  \n  * <None>  \n\nRules:  \n 1. Return \"Pro Rata Amount And Time\" only if the sentence contains one of these exact full phrases:  \n    * \"pro rata as to amount and time\"  \n    * \"pro rata as to time and amount\"  \n    These phrases must appear exactly as written. Do not reconstruct or combine partial matches  \n\n 2. Return \"Pro Rata Amount\" if:  \n    – The sentence includes any of the following variants (case-insensitive, ignore hyphenation and spacing):  \n      * \"pro rata as to amount\"  \n      * \"pro-rata as to amount\"  \n      * \"pro rata as to the amount\"  \n      * \"pro-rata as to the amount\"  \n      * \"pro rata as to amount only\"  \n      * \"pro-rata as to amount only\"  \n      * \"pro rata as to the amount only\"  \n      * \"pro-rata as to the amount only\"  \n    – AND the same sentence does NOT contain \"pro rata as to time\" or \"as to time\"  \n\n 3. Return \"Pro Rata Time\" if:  \n    – The sentence includes \"pro rata as to time\"  \n    – AND does not include \"pro rata as to amount\" or \"as to amount\" in the same phrase  \n\n 4. If the sentence contains both \"as to time\" and \"pro rata as to amount\", return \"Pro Rata Amount\"  \n    – This does not qualify as \"Amount And Time\". Do not combine phrases across the sentence  \n\n 5. Return \"Free\" only if the reinstatement is explicitly stated as free, without cost, or without premium  \n    – Examples include: \"free reinstatement\", \"no additional premium\"  \n\n 6. Return \"<None>\" if none of the above conditions are met  \n\nIMPORTANT:  \n– Do not mix or infer categories  \n– Do not treat \"as to time\" and \"pro rata as to amount\" as equal to \"amount and time\"  \n– Always base the rule on the exact phrase. If the full phrase is not there, do not assume  \n\n\nCURRENCY TYPE\n\n- \"Currency of Loss\" – if premium is based on claim currency  \n- \"Currency of Premium\" – if calculated in contract currency  \n\n\nCALCULATION RULE\n\n- Extract if explicitly stated (e.g. “Per Loss”, “Per Insured Period”, “No Calculation”)  \n- Default to \"Per Loss\" only if reinstatement clearly applies per claim  \n\n\nFALLBACK DUPLICATION RULE\n\n– If any value (e.g. Instalments, Adjustments, Reinstatements) is found only at contract-level and not repeated per-layer, then:  \n  – Copy that value into every layer's corresponding field (e.g. /Layers/{i}/Reinstatements/PaymentRule)  \n  – And in _links, add traceability for each duplicated field using the same page and excerpt as the top-level value  \n\n– This applies to: Instalments, Adjustments, Reinstatements, Offer/Written Share, PremiumType, and all other applicable fields  \n– Do not skip _links for duplicated values — copy the same source to each /Layers/{i}/... entry  ",
      "comment": null
    },
    {
      "title": "CONTRACTS WITH LAYERS AND WITH SECTIONS",
      "body": "CONTRACTS WITH LAYERS AND WITH SECTIONS\n\nIf a nested CoverageSection (inside a Layer) uses fallback values for Countries or CountryGroups from the contract-level GeneralInformation block, reuse the same traceability citation:\n\n- For /Layers/1/CoverageSections/1/Countries, use the same page and text as /GeneralInformation/Countries\n- For /Layers/1/CoverageSections/1/CountryGroups, reuse the citation from /GeneralInformation/CountryGroups\n\nApply this logic for each nested section where fallback is used. Do not leave _links for these fields empty — they must reference the global source.\n\n\n* Do not stop working until you've generated json fully and completely. !!!\n</steps>",
      "comment": null
    },
    {
      "title": "<definitions>",
      "body": "<definitions>\nThese structures must be used in all classification steps:\n\n- **coverage_section_aliases**:  \n  Maps known section or class names to MainClass and Class values. Values may be pairs or arrays.\n\n- **class_to_mainclass_mapping**:  \n  Enables reverse inference of MainClass if only Class is found.\n\n- **allowed_mainclasses**:  \n  Strict list of valid MainClass values for output validation.\n\n- **allowed_classes_per_mainclass**:  \n  For each MainClass, defines its valid Class values. Ensures all Class–MainClass pairs are logically consistent.\n</definitions>",
      "comment": null
    },
    {
      "title": "<aliases> Classifications and coverage section keywords",
      "body": "<aliases>\n\ncoverage_section_aliases\nUse the following coverage_section_aliases mapping to classify CoverageSections based on their SectionName. Each mapping entry defines the appropriate MainClass and Class. Both MainClass and Class can be single values or lists if the section covers multiple domains.\n\nDirect classification:\nIf the SectionName matches one of the keys below, assign the corresponding MainClass and Class values.\n\nReverse classification:\nIf SectionName contains a known Class, but MainClass is missing or unclear, use the predefined mapping to infer the correct MainClass.\n\nDo not invent values. Use only allowed entries defined below.\n\nallowed_mainclasses: \nThese are the only valid values that can appear in the MainClass field:\nLiability\nLife\nMarine\nMotor\nProperty\n\nallowed_classes_by_mainclass:\n Liability:\n– All Liability Classes\n– Asbestos\n– Automobile\n– Aviation\n– Construction Defect\n– Cyber\n– Directors & Officers Liability\n– Errors & Omissions\n– Fidelity\n– General Liability\n– Healthcare\n– Personal Liability\n– Pollution\n– Product Liability\n– Professional Liability\n– Public Entity Liability\n– Surety\n– Umbrella\n– Workmen's Compensation\n\nLife:\n– Accidental Death\n– Annuity\n– Catastrophe\n– Critical Illness\n– Death\n– Disability\n– Life\n– Medical\n– Mortgage Protection\n– Personal Accident\n– Term\n\nMarine:\n– All Marine Classes\n– Energy & International (Marine)\n– Hull & Cargo\n– Hull Builders Risks\n– Marine Cargo\n– Marine Liability\n– Marine Operators Liability\n– Piers & Wharves\n– Pleasurecraft\n– Shipyards & Boatyards\n– Yachts\n– Yachts Dealers\n\nMotor:\n– All Motor Classes\n– Motor Employers Liability\n– Motor Own Damage\n– Motor Third Party Damage\n– Motor Third Party Liability\n– Motor Workers Compensation\n\nProperty:\n– Agriculture\n– All Property Classes\n– Boiler & Machinery (Equipment & Breakdown)\n– Business Interruption Ins.\n– Commercial\n– Construction\n– Crop Hail\n– Energy & International (Property)\n– Engineering\n– Fire Insurance\n– Property Catastrophe\n– Public Entity Property\n\nAll Main Classes of Business:\n- All Classes of business\n\nclass_to_mainclass:\n\"Engineering\" → \"Property\"\n\"Fire Insurance\" → \"Property\"\n\nExample classification entries\ncoverage_section_aliases:\n\"General Liability\" → MainClass = \"Liability\", Class = \"General Liability\"\n\"Public Entity Liability\" → MainClass = \"Liability\", Class = \"Public Entity Liability\"\n\"Employers' Liability\" → MainClass = \"Liability\", Class = \"Workmen's Compensation\"\n\"Cyber Liability\" → MainClass = \"Liability\", Class = \"Cyber\"\n\"D&O\" → MainClass = \"Liability\", Class = \"Directors & Officers Liability\"\n\"Professional Indemnity\" → MainClass = \"Liability\", Class = \"Professional Liability\"\n\"Marine Cargo\" → MainClass = \"Marine\", Class = \"Marine Cargo\"\n\"Hull & Cargo\" → MainClass = \"Marine\", Class = \"Hull & Cargo\"\n\"Pleasurecraft\" → MainClass = \"Marine\", Class = \"Pleasurecraft\"\n\"Motor Third Party\" → MainClass = \"Motor\", Class = \"Motor Third Party Liability\"\n\"Motor Own Damage\" → MainClass = \"Motor\", Class = \"Motor Own Damage\"\n\"Property Catastrophe\" → MainClass = \"Property\", Class = \"Property Catastrophe\"\n\"Business Interruption\" → MainClass = \"Property\", Class = \"Business Interruption Ins.\"\n\"Boiler & Machinery\" → MainClass = \"Property\", Class = \"Boiler & Machinery (Equipment & Breakdown)\"\n\"Construction\" → MainClass = \"Property\", Class = \"Construction\"\n\"Term Life\" → MainClass = \"Life\", Class = \"Term\"\n\"Critical Illness\" → MainClass = \"Life\", Class = \"Critical Illness\"\n\"Personal Accident\" → MainClass = \"Life\", Class = \"Personal Accident\"\n\"All classes\" → MainClass = \"All Main Classes of Business\", Class = \"All Classes of business\"\n\"Fire \" → MainClass = \"Property\", Class = \"Fire Insurance\"\n\"Design Professionals\" → MainClass = \"Liability\", Class = \"Professional Liability\"\n\"Design Professional Liability\" → MainClass = \"Liability\", Class = \"Professional Liability\"\n\"Architects and Engineers Professional Liability\" → MainClass = \"Liability\", Class = \"Professional Liability\"\n\"Constructors Professional Liability\" → MainClass = \"Liability\", Class = \"Professional Liability\"\n\"Marine & Energy\" → MainClass = \"Marine\", Class = \"Energy & International (Marine)\"\n\"Political Violence\" → MainClass = \"Property\", Class = \"Property Catastrophe\"\n\"Terrorism\" → MainClass = \"Property\", Class = \"Property Catastrophe\"\n\"War Risks (Property)\" → MainClass = \"Property\", Class = \"Property Catastrophe\"\n\n\nIf SectionName matches one of the keys above, assign the corresponding MainClass and Class to the CoverageSection.\nIf multiple CoverageSections match entries in the mapping, populate GeneralInformation/MainClass with a unique list of all matched MainClass values, and GeneralInformation/Class with a combined list of all matched Class values.\n\nThese phrases may also indicate a breakdown of coverage by class or type. They may appear in section headers or body text. If detected, treat them as additional cues for identifying class-based structure. Return all recognizable sections.\n\ncoverage section keywords:\nSection I, Section II, Section A, Section B, Section C\nSECTION 1, SECTION 2, SECTION 3, SECTION 4\nSection 1, Section 2, Section 3\nSections 1 and 2, Sections 2 and 3\nSECTION 1 MATERIAL DAMAGE, SECTION 2 CONSEQUENTIAL LOSS\nSECTION 3 MACHINERY BREAKDOWN\nSECTION A, SECTION B, SECTION C\nSection a), Section b), Section c), Section d)\nHull & Machinery\nProperty Section, Machinery Section, Brazil Section, France Section\nLiability Section, Marine Section, Hull Section, Cargo Section\nCasualty Section, Engineering Section\n\ncoverage section types:\nCountry, Territory, Class of Business, Risk Type, Subject Matter\n\ncoverage section structure phrases:\nSection I – Property, Section II – Machinery Breakdown\nLIMITS – Section a), COVERAGE – Section A, PREMIUM – Section B\nTerritorial Split, Breakdown by Country, Split by Risk Class, Coverage by Region\n\n==============\nALLOWED_SUBCLASSES_BY_CLASS\n\n General Liability:\n  – Advertising Liability\n  – Bodily injury/property damage liability\n  – Employee Benefit Liability\n  – Medical Payment Protection\n  – Personal Injury Liability\n\n Directors & Officers Liability:\n  – Burglary & Theft\n  – Crime Computer Fraud\n  – Employment Practices\n  – Fiduciary Liability\n  – Forgery\n  – Kidnap & Extortion Business\n  – Management Protection & Fidelity\n  – Public & Federal Official Blanket Bonds\n\n Business Interruption Ins.:\n  – Business Interruption\n\n Engineering:\n  – Business Interruption\n  – Physical Damage\n\n Fire Insurance:\n  – Business Interruption\n  – Physical Damage\n\n Energy & International (Marine):\n  – Business Interruption\n  – Physical Damage\n\n Hull & Cargo:\n  – Business Interruption\n  – Physical Damage\n\n Hull Builders Risks:\n  – Business Interruption\n  – Physical Damage\n\n Piers & Wharves:\n  – Business Interruption\n  – Physical Damage\n\n Pleasurecraft:\n  – Business Interruption\n  – Physical Damage\n\n Agriculture:\n  – Business Interruption\n  – Physical Damage\n\n Boiler & Machinery (Equipment & Breakdown):\n  – Business Interruption\n  – Physical Damage\n\n Construction:\n  – Business Interruption\n  – Physical Damage\n\n Commercial:\n  – Business Interruption\n  – Physical Damage\n\n Crop Hail:\n  – Business Interruption\n  – Physical Damage\n\n Energy & International (Property):\n  – Business Interruption\n  – Physical Damage\n\n Public Entity Property:\n  – Business Interruption\n  – Physical Damage\n\n Shipyards & Boatyards:\n  – Business Interruption\n  – Physical Damage\n\n Yachts:\n  – Business Interruption\n  – Physical Damage\n\n Yachts Dealers:\n  – Business Interruption\n  – Physical Damage\n==============================",
      "comment": "FFH specific "
    },
    {
      "title": "<aliases> businesstype_aliases, allowed_typeofparticipation_by_businesstype",
      "body": "businesstype_aliases\nUse the following businesstype_aliases mapping to classify the BusinessType and TypeOfParticipation based on keywords found in the contract. Both fields must be explicitly extracted. Classification applies only to treaty contracts.\n\nReverse classification:\nIf only TypeOfParticipation is clearly mentioned (e.g. \"Quota Share\", \"Excess Of Loss\"), infer BusinessType based on allowed mappings.\n\nDo not invent values. Use only allowed entries defined below.\n\nallowed_businesstypes:\n– Proportional Treaty\n– Non-Prop Treaty\n– Proportional Facultative\n– Non-Prop Facultative\n\n\nallowed_typeofparticipation_by_businesstype:\n– Proportional Treaty\n  * Adverse Development Cover\n  * Loss Portfolio Transfer\n  * Obligatory Or Fac Cover\n  * Open Cover\n  * Quota Share\n  * Quota Share/Surplus\n  * Surplus\n\n– Non-Prop Treaty\n  * Adverse Development Cover\n  * Aggregate XL\n  * Catastrophe XL Per Event\n  * Excess Of Loss\n  * Excess Of Loss Pool\n  * Loss Portfolio Transfer\n  * Stop Loss\n  * Working XL Per Risk Or Event\n\n– Proportional Facultative\n  * Adverse Development Cover\n  * Proportional Fac\n  * Quota Share\n  * Surplus\n\n– Non-Prop Facultative\n  * Adverse Development Cover\n  * Catastrophe Cover\n  * Catastrophe XL Per Event\n  * Non-Proportional Fac Per Risk\n  * Stop Loss\n\nallowed_canonical_typeofparticipation_by_businesstype: {\n  \"Proportional Treaty\": [\"Quota Share\", \"Surplus\", \"Open Cover\", \"Loss Portfolio Transfer\"],\n  \"Non-Prop Treaty\": [\"Excess Of Loss\", \"Working XL Per Risk Or Event\", \"Catastrophe XL Per Event\", \"Aggregate XL\", \"Stop Loss\"],\n  \"Proportional Facultative\": [\"Proportional Fac\", \"Quota Share\", \"Surplus\"],\n  \"Non-Prop Facultative\": [\"Non-Proportional Fac Per Risk\", \"Catastrophe Cover\", \"Catastrophe XL Per Event\", \"Stop Loss\"]}\n\nbusinesstype_aliases:\n– \"Facultative RI\" → BusinessType = \"Non-Prop Facultative\", TypeOfParticipation = \"Non-Proportional Fac Per Risk\"\n– \"Facultative Reinsurance\" → BusinessType = \"Non-Prop Facultative\", TypeOfParticipation = \"Non-Proportional Fac Per Risk\"\n– \"Fac Slip\" → BusinessType = \"Non-Prop Facultative\", TypeOfParticipation = \"Non-Proportional Fac Per Risk\"\n– \"Schedule of Insurance\" → BusinessType = \"Proportional Facultative\", TypeOfParticipation = \"Proportional Fac\"",
      "comment": null
    },
    {
      "title": "claim_basis_aliases",
      "body": "====================\nclaim_basis_aliases\n\nAllowed claim basis values:\n- Risks Attaching\n- Losses Occurring\n- Claims Made\n- Occurrence Notified\n- Occurrence With Sunset\n- Occurrence Without Sunset\n- Manifestation\n- LO/RA After\n- LO/RA Prior\n- Awards Made\n- Begin Of Construction\n- Causation\n- Claim Advised Date\n- <None>\n\nAliases:\nRisks Attaching: risk attaching, risks attaching during, attaching risks, risk-attaching\nLosses Occurring: losses occurring during, loss occurring, loss occurrence, each and every loss occurrence, occurrence basis\nClaims Made: claims-made, claims made, claims-made basis, claim made basis, claims first made during\nOccurrence Notified: notified occurrence, occurrence notified\nOccurrence With Sunset: with sunset clause, occurrence with sunset\nOccurrence Without Sunset: without sunset clause, occurrence without sunset\nManifestation: manifest basis, manifestation basis\nLO/RA After: loss occurring after, risk attaching after\nLO/RA Prior: loss occurring prior, risk attaching prior\nAwards Made: awards made, award made\nBegin Of Construction: beginning of construction, start of construction\nCausation: causation basis, causal trigger\nClaim Advised Date: claim advised, claim advised date\n===\n",
      "comment": null
    },
    {
      "title": "</aliases> country group aliases",
      "body": "---------------------------------------------\nAllowed country_group_aliases:\n- Africa\n- Asia & The Far East\n- Australia\n- Europe\n- Middle East\n- The Americas, USA & Canada\n\n---------------------------------------------\ncover aliases: Cover, Limit of Indemnity, Limit of Liability, Ultimate Net Loss, Sum Insured, Policy Limit, Limit of Cover\nexcess aliases: Excess, in excess of the underlying loss, Excess Point, Deductible, Retention, Underlying Loss, Attachment Point\nliability aliases: Limit of Liability, Liability Limit, Limit of Indemnity, Aggregate Limit, Treaty Limit, Overall Limit, Sum Insured\n\npremium type keywords: Premium Type, Flat Premium, Fixed Rate, Premium based on, Calculated as, Rate applied.\n\noffer keywords: Order hereon, Hereon, % of risk to be placed, Facultative Offer, Proportion offered, Reinsurance Support required, Amount offered, Proportion offered.\nwritten key phrase: WRITTEN LINE.\n\nreinstatement keywords: reinstatement, reinstated, additional premium, free reinstatement, no reinstatement, unlimited reinstatements, reinstatement premium, AP.\n</aliases>\n",
      "comment": null
    },
    {
      "title": "<entry-values-examples>",
      "body": "<entry-values-examples>\nmain class of business: [Motor, Property, Marine, Fire, Engineering, Oil, Energy, Livestock, Accident, Liability]\nclasses of business: [Marine Hull, Bonds, Marine Cargo, Fire Industrial, General Liability, Aviation Liability, Area Yield Index Insurance, Fidelity Guarantee]\nReinstatements:\n  CurrencyType: [\"Currency of Loss\", \"Currency of Premium\"]\n  CalculationRule: [\"No Calculation\", \"Per Insured Period\", \"Per Loss\"]\n  ReinstatementsType: [\"<None>\", \"Specific\", \"Unlimited\"]\n  PaymentRule: [\"<None>\", \"Free\", \"Pro Rata Amount\", \"Pro Rata Time\", \"Pro Rata Amount And Time\"]\n</entry-values-examples>",
      "comment": null
    },
    {
      "title": "<jsonschema>",
      "body": "\"<jsonschema>\"{\n   \"$schema\":\"http://json-schema.org/draft-07/schema#\",\n   \"type\":\"object\",\n   \"properties\":{\n      \"business_type_debug_reasoning_log\":{\n         \"type\":\"string\",\n         \"description\":\"A mandatory step-by-step explanation of how the BusinessType was determined. Follow the algorithm steps. This field is for debugging.\"\n      },\n      \"ContractStructure\":{\n         \"type\":\"string\",\n         \"description\":\"Detected structure of the contract.\",\n         \"enum\":[\n            \"simple\",\n            \"sectioned\",\n            \"layered\",\n            \"layered_with_sections\",\n            \"sectioned_with_subsections\"\n         ]\n      },\n      \"GeneralInformation\": {\n         \"type\": \"object\",\n         \"properties\": {\n            \"ContractName\": {\n               \"type\": [\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\": \"Name of the contract built from main insured or reinsured party, one contract type descriptor, and year.\"\n            },\n            \"MainClass\": {\n               \"type\": [\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\": {\n                  \"type\": \"string\"\n               },\n               \"description\": \"Main business class, such as Motor, Property, Marine, etc.\"\n            },\n            \"Class\": {\n               \"type\": [\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\": {\n                  \"type\": \"string\"\n               },\n               \"description\": \"Specific classes of business within the main class.\"\n            },\n            \"SubClass\": {\n               \"type\": [\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\": {\n                  \"type\": \"string\"\n               },\n               \"description\": \"Further subclassifications within the class.\"\n            },\n            \"TypeOfParticipation\": {\n               \"type\": [\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\": \"TypeOfParticipation of the contract.\"\n            },\n            \"BusinessType\":{\n               \"type\":\"string\",\n               \"description\":\"BusinessType of the contract.\"\n            },\n            \"UnderwritingYear\":{\n               \"type\":\"integer\",\n               \"description\":\"Year of underwriting.\"\n            },\n            \"PeriodStart\":{\n               \"type\":\"string\",\n               \"format\":\"date\",\n               \"description\":\"Start date of the coverage period.\"\n            },\n            \"PeriodEnd\":{\n               \"type\": [\"string\", '\"null\"],\n               \"format\":\"date\",\n               \"description\":\"End date of the coverage period.\"\n            },\n            \"Currency\":{\n               \"type\":\"string\",\n               \"description\":\"Currency of the contract.\"\n            },\n            \"Countries\":{\n               \"type\":[\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\":{\n                  \"type\":\"string\"\n               },\n               \"description\":\"Countries covered under the contract.\"\n            },\n            \"CountryGroups\":{\n               \"type\":[\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\":{\n                  \"type\":\"string\"\n               },\n               \"description\":\"Country groups covered.\"\n            },\n            \"Cedent\":{\n               \"type\":[\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\":\"The ceding insurance company transferring risk under the contract.\"\n            },\n            \"Insured\":{\n               \"type\":[\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\":\"The underlying insured party or policyholder.\"\n            },\n            \"Broker\":{\n               \"type\":[\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\":\"Broker handling the contract.\"\n            },\n            \"Reinsurer\":{\n               \"type\":[\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\":\"Reinsurer for the contract.\"\n            },\n            \"ReportingUnits\":{\n               \"type\":[\n                  \"string\",\n                  \"null\"\n               ],\n               \"items\":{\n                  \"type\":\"string\"\n               },\n               \"description\":\"Units responsible for reporting.\"\n            }\n         }\n      }\n   },\n   \"Limits\":{\n      \"type\":\"object\",\n      \"properties\":{\n         \"Liability\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Liability limit.\"\n         },\n         \"MainLimit\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Main contract limit.\"\n         },\n         \"TotalSumInsured\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Total insured sum.\"\n         },\n         \"Cover\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Cover amount.\"\n         },\n         \"Excess\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Excess amount.\"\n         }\n      }\n   },\n   \"Premium\":{\n      \"type\":\"object\",\n      \"properties\":{\n         \"EstimatedPremiumIncome\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Expected premium income for the contract based on estimates.\"\n         },\n         \"MinimumPremium\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Minimum premium amount payable under the contract.\"\n         },\n         \"DepositPremium\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Initial deposit premium paid at inception.\"\n         },\n         \"SubjectPremiumIncome\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Premium income subject to adjustment or calculation under the contract.\"\n         },\n         \"PremiumRate\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Rate used to calculate the premium.\"\n         },\n         \"PremiumType\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"description\":\"Method used to calculate the premium.\"\n         },\n         \"TotalGrossPremium\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Total gross premium amount before deductions.\"\n         }\n      }\n   },\n   \"Deductions\":{\n      \"type\":\"object\",\n      \"properties\":{\n         \"Commission\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Commission percentage.\"\n         },\n         \"TaxOnPremium\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Tax applicable on premium.\"\n         },\n         \"Brokerage\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Brokerage percentage.\"\n         }\n      }\n   },\n   \"Share\":{\n      \"type\":\"object\",\n      \"properties\":{\n         \"Offer\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Offer value as a percentage.\"\n         },\n         \"Written\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Written line value as a percentage.\"\n         },\n         \"Signed\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Signed line value as a percentage.\"\n         },\n         \"CessionPercent\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Cession percentage representing the share ceded under the contract.\"\n         }\n      }\n   },\n   \"Claims\":{\n      \"type\":\"object\",\n      \"properties\":{\n         \"ClaimBasisDebug\":{\n            \"type\":\"string\",\n            \"description\":\"Step-by-step explanation of how ClaimBasis was determined: where in the document the attaching-basis phrase was found (header, page), what exact wording was used, and why it was mapped to the chosen canonical value.\"\n         },\n         \"ClaimBasis\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"description\":\"Basis for handling claims, such as 'Losses Occurring', 'Risks Attaching', etc.\"\n         },\n         \"ClaimAdviceLimit\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Limit above which claims must be advised to reinsurers, if specified.\"\n         }\n      }\n   },\n   \"AdminConditions\":{\n      \"type\":\"object\",\n      \"properties\":{\n         \"CessionBasis\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"description\":\"Cession basis for this contract, such as 'Original Conditions', 'Risk Attaching', etc.\"\n         },\n         \"CashClaimLimit\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Maximum claim amount payable in cash under this contract, if specified.\"\n         }\n      }\n   },\n   \"OtherConditions\":{\n      \"type\":\"object\",\n      \"properties\":{\n         \"CancellationTerms\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"minimum\":1,\n            \"description\":\"Notice of cancellation value (e.g., 3 for 3 Days).\"\n         },\n         \"NOCPeriod\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"enum\":[\n               \"Day(s)\",\n               \"Month(s)\",\n               \"Year(s)\"\n            ],\n            \"description\":\"Unit for notice of cancellation.\"\n         },\n         \"PremiumPaymentWarranty\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"minimum\":1,\n            \"description\":\"PPW value (e.g., 30 for 30 Days).\"\n         },\n         \"PPWPeriod\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"enum\":[\n               \"Day(s)\",\n               \"Month(s)\",\n               \"Year(s)\"\n            ],\n            \"description\":\"Unit for PPW.\"\n         },\n         \"InclusionClauses\":{\n            \"type\":[\n               \"array\",\n               \"null\"\n            ],\n            \"items\":{\n               \"type\":\"string\"\n            }\n         },\n         \"ExclusionClauses\":{\n            \"type\":[\n               \"array\",\n               \"null\"\n            ],\n            \"items\":{\n               \"type\":\"string\"\n            }\n         }\n      }\n   },\n   \"Instalments\":{\n      \"type\":\"object\",\n      \"properties\":{\n         \"NumberOfInstalments\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"description\":\"Total number of instalments payable.\"\n         },\n         \"InstalmentType\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"description\":\"Indicates whether instalments are payable in advance or in arrears.\"\n         },\n         \"PaymentOfFirstInstalment\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"description\":\"Number of units for the payment of the first instalment.\"\n         },\n         \"PaymentOfFirstInstalmentPeriod\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"enum\":[\n               \"Day(s)\",\n               \"Month(s)\",\n               \"Year(s)\"\n            ],\n            \"description\":\"Unit for the payment of the first instalment.\"\n         },\n         \"PaymentOfSubsequentInstalment\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"description\":\"Number of units for the payment of subsequent instalments.\"\n         },\n         \"PaymentOfSubsequentInstalmentPeriod\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"enum\":[\n               \"Day(s)\",\n               \"Month(s)\",\n               \"Year(s)\"\n            ],\n            \"description\":\"Unit for the payment of subsequent instalments.\"\n         }\n      }\n   },\n   \"Adjustments\":{\n      \"type\":\"object\",\n      \"properties\":{\n         \"NumberOfAdjustments\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"description\":\"Total number of premium adjustments under the contract.\"\n         },\n         \"FirstAdjustment\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"description\":\"Number of units defining when the first premium adjustment is due.\"\n         },\n         \"FirstAdjustmentPeriod\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"enum\":[\n               \"Day(s)\",\n               \"Month(s)\",\n               \"Year(s)\"\n            ],\n            \"description\":\"Unit of time for the first premium adjustment.\"\n         },\n         \"SubsequentAdjustment\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"description\":\"Number of units defining when subsequent premium adjustments are due.\"\n         },\n         \"SubsequentAdjustmentPeriod\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"enum\":[\n               \"Day(s)\",\n               \"Month(s)\",\n               \"Year(s)\"\n            ],\n            \"description\":\"Unit of time for subsequent premium adjustments.\"\n         },\n         \"SubmissionWithin\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"description\":\"Number of units within which adjustment statements must be submitted.\"\n         },\n         \"SubmissionWithinPeriod\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"enum\":[\n               \"Day(s)\",\n               \"Month(s)\",\n               \"Year(s)\"\n            ],\n            \"description\":\"Unit of time for submission of adjustment statements.\"\n         },\n         \"PaymentWithin\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"description\":\"Number of units within which adjustment payments must be made.\"\n         },\n         \"PaymentWithinPeriod\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"enum\":[\n               \"Day(s)\",\n               \"Month(s)\",\n               \"Year(s)\"\n            ],\n            \"description\":\"Unit of time for payment of premium adjustments.\"\n         }\n      }\n   },\n   \"Reinstatements\":{\n      \"type\":\"object\",\n      \"properties\":{\n         \"CurrencyType\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"description\":\"Currency basis used for calculating reinstatement premium, as stated in the contract wording.\"\n         },\n         \"CalculationRule\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"description\":\"Rule defining how reinstatements are calculated, based on contract wording.\"\n         },\n         \"ReinstatementsType\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"description\":\"Type of reinstatement arrangement described in the contract.\"\n         },\n         \"PaymentRule\":{\n            \"type\":[\n               \"string\",\n               \"null\"\n            ],\n            \"description\":\"Rule describing how reinstatement premium is payable, according to the contract wording.\"\n         },\n         \"AmountPercentage\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Percentage of premium charged for each reinstatement, if specified.\"\n         },\n         \"NumberOfReinstatements\":{\n            \"type\":[\n               \"integer\",\n               \"null\"\n            ],\n            \"description\":\"Number of times the policy limit may be reinstated, if specified in the contract.\"\n         }\n      }\n   },\n   \"CoverageSections\":{\n      \"type\": [\n         \"array\",\n         \"null\"\n      ],\n      \"description\":\"Coverage sections under this Layer (or top-level, if contract is sectioned).\",\n      \"items\":{\n         \"$ref\":\"#/definitions/CoverageSection\"\n      }\n   },\n  \"Layers\": {\n      \"type\": [\n         \"array\",\n         \"null\"\n      ],\n      \"items\": {\n         \"type\": \"object\",\n         \"properties\": {\n            \"LayerNumber\": {\n               \"type\": [\n                  \"integer\",\n                  \"null\"\n               ],\n               \"description\": \"Layer index.\"\n            },\n            \"Cover\": {\n               \"type\": [\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\": \"Cover amount per layer.\"\n            },\n            \"Excess\": {\n               \"type\": [\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\": \"Excess amount per layer.\"\n            },\n            \"EstimatedPremiumIncome\": {\n               \"type\": [\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\": \"Estimated premium per layer.\"\n            },\n            \"MinimumPremium\": {\n               \"type\": [\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\": \"Minimum premium per layer.\"\n            },\n            \"DepositPremium\": {\n               \"type\": [\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\": \"Deposit premium per layer.\"\n            },\n            \"PremiumRate\": {\n               \"type\": [\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\": \"Premium rate per layer.\"\n            },\n            \"PremiumType\": {\n               \"type\": [\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\": \"Type of premium calculation per layer. Either 'Fixed Rate' or 'Flat Premium'.\"\n            },\n            \"Offer\": {\n               \"type\": [\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\": \"Offered share for this layer (in %).\"\n            },\n            \"Written\": {\n               \"type\": [\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\": \"Written share for this layer (in %).\"\n            },\n            \"Signed\": {\n               \"type\": [\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\": \"Signed share for this layer (in %).\"\n            },\n            \"NumberOfInstalments\": {\n               \"type\": [\n                  \"integer\",\n                  \"null\"\n               ],\n               \"description\": \"Total number of instalments payable.\"\n            },\n            \"InstalmentType\": {\n               \"type\": [\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\": \"Either 'In Advance' or 'In Arrears'.\"\n            },\n            \"SubjectPremiumIncome\": {\n               \"type\": [\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\": \"Subject premium per layer.\"\n            },\n            \"Adjustments\":{\n               \"type\":\"object\",\n               \"description\":\"Adjustment terms for this layer\",\n               \"properties\":{\n                  \"FirstPeriod\":{\n                     \"type\":[\"string\", \"null\"]\n                     \"description\":\"Deadline or timing for the premium adjustment calculation. Can be a concrete date or relative expression (e.g., '180 days after expiry').\"\n                  },\n                  \"NumberOfAdjustments\":{\n                     \"type\":[\n                        \"integer\",\n                        \"null\"\n                     ],\n                     \"description\":\"Number of premium adjustments mentioned in the contract. Usually 1. If not specified, return null.\"\n                  }\n               }\n            },\n            \"Reinstatements\":{\n               \"type\":\"object\",\n               \"properties\":{\n                 \"CurrencyType\": {\n                     \"type\": [\n                        \"string\",\n                        \"null\"\n                     ],\n                     \"description\": \"Currency basis used for calculating reinstatement premium, as stated in the contract wording.\"\n                  },\n                  \"CalculationRule\": {\n                     \"type\": [\n                        \"string\",\n                        \"null\"\n                     ],\n                     \"description\": \"Rule defining how reinstatements are calculated, based on contract wording.\"\n                  },\n                  \"ReinstatementsType\": {\n                     \"type\": [\n                        \"string\",\n                        \"null\"\n                     ],\n                     \"description\": \"Type of reinstatement arrangement described in the contract.\"\n                  },\n                  \"PaymentRule\": {\n                     \"type\": [\n                        \"string\",\n                        \"null\"\n                     ],\n                     \"description\": \"Rule describing how reinstatement premium is payable, according to the contract wording.\"\n                  },\n                  \"AmountPercentage\": {\n                     \"type\": [\n                        \"number\",\n                        \"null\"\n                     ],\n                     \"description\": \"Percentage of premium charged for each reinstatement, if specified.\"\n                  },\n                  \"NumberOfReinstatements\": {\n                     \"type\": [\n                        \"integer\",\n                        \"null\"\n                     ],\n                     \"description\": \"Number of times the policy limit may be reinstated, if specified in the contract.\"\n                  }\n               }\n            },\n            \"CoverageSections\": {\n               \"type\": [\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\":{\n                  \"$ref\":\"#/definitions/CoverageSection\"\n               }\n            }\n         }\n      }\n   },\n   \"definitions\":{\n      \"CoverageSection\":{\n         \"type\":[\"object\",\"null\"]\n         \"properties\":{\n            \"SectionName\":{\n               \"type\":[\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\":\"Name of the section (e.g., 'Section I – Property')\"\n            },\n            \"MainClass\":{\n               \"type\":[\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\":{\n                  \"type\":\"string\"\n               },\n               \"description\":\"Main class of business for the section.\"\n            },\n            \"Class\":{\n               \"type\":[\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\":{\n                  \"type\":\"string\"\n               },\n               \"description\":\"Specific classes of business for the section.\"\n            },\n            \"SubClass\":{\n               \"type\":[\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\":{\n                  \"type\":\"string\"\n               },\n               \"description\":\"Specific subclasses of business for the section.\"\n            },\n            \"Countries\":{\n               \"type\":[\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\":{\n                  \"type\":\"string\"\n               },\n               \"description\":\"List of countries covered in this section.\"\n            },\n            \"CountryGroups\":{\n               \"type\":[\n                  \"array\",\n                  \"null\"\n               ],\n               \"items\":{\n                  \"type\":\"string\"\n               },\n               \"description\":\"Named country groups covered in this section.\"\n            },\n            \"Cover\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Cover amount for the section.\"\n            },\n            \"Excess\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Excess amount for the section.\"\n            },\n            \"Liability\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Liability limit for the section.\"\n            },\n            \"MainLimit\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Main contract limit for the section.\"\n            },\n            \"TotalSumInsured\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Total insured sum for the section.\"\n            },\n            \"EstimatedPremiumIncome\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Estimated premium per section.\"\n            },\n            \"MinimumPremium\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Minimum premium for the section.\"\n            },\n            \"DepositPremium\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Deposit premium for the section.\"\n            },\n         \"TotalGrossPremium\":{\n            \"type\":[\n               \"number\",\n               \"null\"\n            ],\n            \"description\":\"Total gross premium amount before deductions.\"\n         }\n            \"PremiumRate\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Premium rate for the section.\"\n            },\n            \"PremiumType\":{\n               \"type\":[\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\":\"Premium type for the section.\"\n            },\n            \"SubjectPremiumIncome\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Subject premium income for the section.\"\n            },\n            \"Commission\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Commission percentage for this section.\"\n            },\n            \"Offer\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Offer % for the section.\"\n            },\n            \"Written\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Written line % for the section.\"\n            },\n            \"Signed\":{\n  \"type\":[\n                  \"number\",\n                  \"null\"\n               ],               \"description\":\"Signed share for this layer (in %).\"\n            },\n            \"NumberOfInstalments\":{\n               \"type\":[\n                  \"integer\",\n                  \"null\"\n               ],\n               \"description\":\"Number of instalments payable for the section.\"\n            },\n            \"InstalmentType\":{\n               \"type\":[\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\":\"Either 'In Advance' or 'In Arrears'.\"\n            },\n            \"CessionBasis\":{\n               \"type\":[\n                  \"string\",\n                  \"null\"\n               ],\n               \"description\":\"Cession basis for this section, such as 'Original Conditions', 'Risk Attaching', etc.\"\n            },\n            \"CashClaimLimit\":{\n               \"type\":[\n                  \"number\",\n                  \"null\"\n               ],\n               \"description\":\"Maximum claim amount payable in cash under this section, if specified.\"\n            },\n            \"Reinstatements\": {\n               \"type\": \"object\",\n               \"properties\": {\n                  \"CurrencyType\": {\n                     \"type\": [\n                        \"string\",\n                        \"null\"\n                     ],\n                     \"description\": \"Currency basis used for calculating reinstatement premium, as stated in the contract wording.\"\n                  },\n                  \"CalculationRule\": {\n                     \"type\": [\n                        \"string\",\n                        \"null\"\n                     ],\n                     \"description\": \"Rule defining how reinstatements are calculated, based on contract wording.\"\n                  },\n                  \"ReinstatementsType\": {\n                     \"type\": [\n                        \"string\",\n                        \"null\"\n                     ],\n                     \"description\": \"Type of reinstatement arrangement described in the contract.\"\n                  },\n                  \"PaymentRule\": {\n                     \"type\": [\n                        \"string\",\n                        \"null\"\n                     ],\n                     \"description\": \"Rule describing how reinstatement premium is payable, according to the contract wording.\"\n                  },\n                  \"AmountPercentage\": {\n                     \"type\": [\n                        \"number\",\n                        \"null\"\n                     ],\n                     \"description\": \"Percentage of premium charged for each reinstatement, if specified.\"\n                  },\n                  \"NumberOfReinstatements\": {\n                     \"type\": [\n                        \"integer\",\n                        \"null\"\n                     ],\n                     \"description\": \"Number of times the policy limit may be reinstated, if specified in the contract.\"\n                  }\n               }\n            }\n         },\n         \"required\":[\n            \"SectionName\"\n         ]\n      }\n   },\n   \"_links\":{\n      \"type\":\"object\",\n      \"description\":\"Mapping of extracted data to document locations.\",\n      \"additionalProperties\":{\n         \"type\":\"object\",\n         \"properties\":{\n            \"page\":{\n               \"type\":\"integer\",\n               \"description\":\"Page index from 1.\"\n            },\n            \"text\":{\n               \"type\":\"string\",\n               \"description\":\"Citation from the document.\"\n            }\n         }\n      }\n   }\n}\"</jsonschema>\"",
      "comment": null
    },
    {
      "title": "<examples>",
      "body": "<examples>\n{\n  \"examples\": {\n    \"SectionedContract\": {\n      \"business_type_debug_reasoning_log\":{\n         \"type\":\"string\",\n         \"description\":\"A mandatory step-by-step explanation of how the BusinessType was determined. Follow the algorithm steps. This field is for debugging.\"\n      \"classification\": {\n           \"businessType_candidates\": [\"Proportional Treaty\"],\n           \"businessType_final\": \"Proportional Treaty\",\n           \"typeOfParticipation_candidates\": [\"Quota Share\"],\n           \"typeOfParticipation_final\": \"Quota Share\",\n           \"evidence\": [\n             { \"field\": \"businessType\", \"quote\": \"Reinsurance Treaty\", \"pageHint\": 1 },\n             { \"field\": \"typeOfParticipation\", \"quote\": \"QUOTA SHARE\", \"pageHint\": 1 }\n           ],\n        \"normalisation\": {\n            \"businesstype_aliases_used\": [],\n            \"typeofparticipation_aliases_used\": [\"qs\"]\n         },\n        \"conflicts\": []\n      },\n      \"GeneralInformation\": {\n        \"ContractName\": \"Sectioned Quota Share Treaty\",\n        \"MainClass\": [\"Property\"],\n        \"Class\": [\"Property Damage\"],\n        \"SubClass\": [],\n        \"TypeOfParticipation\": \"Quota Share\", \n        \"Lifecycle\": \"Active\",\n        \"UnderwritingYear\": 2023,\n        \"PeriodStart\": \"2023-01-01\",\n        \"PeriodEnd\": \"2023-12-31\",\n        \"Currency\": \"USD\",\n        \"BusinessType\": \"Proportional Treaty\", \n        \"Countries\": [],\n        \"CountryGroups\": [],\n        \"Cedent\": \"ABC Insurance\",\n        \"Insured\": \"ABC Insurance\",\n        \"Broker\": \"Global Broker Ltd.\",\n        \"Reinsurer\": \"XYZ Re\",\n        \"ReportingUnits\": []\n      },\n      \"Limits\": {\n        \"Liability\": 10000000,\n        \"MainLimit\": 10000000,\n        \"TotalSumInsured\": 20000000,\n        \"Cover\": null,\n        \"Excess\": null,\n        \"AddMoreLimitsOption\": false\n      },\n      \"Premium\": {\n        \"EstimatedPremiumIncome\": 500000,\n        \"MinimumPremium\": 450000,\n        \"DepositPremium\": 450000,\n        \"SubjectPremiumIncome\": 500000,\n        \"PremiumRate\": 5,\n        \"PremiumType\": \"Fixed Rate\",\n        \"RateOfExchange\": 1,\n        \"TotalGrossPremium\": 500000\n      },\n      \"Deductions\": {\n        \"Commission\": 10,\n        \"TaxOnPremium\": 2,\n        \"Brokerage\": 5,\n        \"AddMoreDeductionsOption\": false\n      },\n      \"Share\": {\n        \"Offer\": 100,\n        \"Written\": 100\n      },\n\n   \"Claims\": {\n     \"ClaimBasisDebug\": \"Found phrase 'losses occurring during the period' under the PERIOD header containing the contract dates. This wording defines a Losses Occurring attaching basis.\",\n      \"ClaimBasis\": \"Claims Made\",\n      \"ClaimAdviceLimit\": 250000\n    },\n    \"AdminConditions\": {\n      \"CessionBasis\": \"Underwriting Year\",\n      \"CashClaimLimit\": 1000000\n    },\n\n\"OtherConditions\": {\n  \"CancellationTerms\": 3,\n  \"NOCPeriod\": \"Day(s)\",\n  \"PremiumPaymentWarranty\": 30,\n  \"PPWPeriod\": \"Day(s)\",\n  \"InclusionClauses\": [\"Sanctions Clause\", \"Intermediary Clause\"],\n  \"ExclusionClauses\": [\"Obligatory Reinsurance\", \"Nuclear Risks Exclusion\"]\n}\n\n      \"Instalments\": {\n        \"NumberOfInstalments\": 2,\n        \"InstalmentType\": \"In Advance\"\n      },\n      \"Adjustments\": {\n        \"FirstPeriod\": \"180 days after expiry\",\n        \"NumberOfAdjustments\": 1\n      },\n      \"Reinstatements\": {\n        \"CurrencyType\": \"Currency of Premium\",\n        \"CalculationRule\": \"No Calculation\",\n        \"ReinstatementsType\": \"<None>\",\n        \"PaymentRule\": \"<None>\",\n        \"AmountPercentage\": 0,\n        \"NumberOfReinstatements\": 0\n      }\n    },\n\n    \"SectionedContract\": {\n      \"CoverageSections\": [\n        {\n          \"SectionName\": \"Section I – Fire\",\n          \"MainClass\": [\"Property\"],\n          \"Class\": [\"Fire Industrial\", \"General Liability\"],\n          \"Countries\": [\"France\", \"Germany\"],\n          \"CountryGroups\": [\"Worldwide\"],\n          \"Cover\": 5000000,\n          \"Excess\": 1000000,\n          \"Liability\": 5000000,\n          \"MainLimit\": 5000000,\n          \"TotalSumInsured\": 10000000,\n          \"MinimumPremium\": 200000,\n          \"DepositPremium\": 200000,\n         ''TotalGrossPremium'': 440000,\n          \"PremiumRate\": 4,\n          \"PremiumType\": \"Fixed Rate\",\n          \"SubjectPremiumIncome\": 500000,\n          \"Commission\": 10,\n          \"Offer\": 100,\n          \"Written\": 100,\n          \"NumberOfInstalments\": 2,\n          \"InstalmentType\": \"In Arrears\",\n          \"CessionBasis\": \"Risk Attaching\",\n          \"CashClaimLimit\": 250000\n        },\n        {\n          \"SectionName\": \"Section II – Flood\",\n          \"Cover\": 3000000,\n          \"Excess\": 500000,\n          \"Liability\": 3000000,\n          \"MainLimit\": 3000000,\n          \"TotalSumInsured\": 6000000,\n          \"MinimumPremium\": 150000,\n          \"DepositPremium\": 150000,\n         ''TotalGrossPremium'': 150000,\n          \"PremiumRate\": 5,\n          \"PremiumType\": \"Fixed Rate\",\n          \"SubjectPremiumIncome\": 300000,\n          \"Commission\": 15,\n          \"Offer\": 100,\n          \"Written\": 100,\n          \"NumberOfInstalments\": 2,\n          \"InstalmentType\": \"In Arrears\",\n          \"CessionBasis\": \"Risk Attaching\",\n          \"CashClaimLimit\": 250000\n        }\n      ]\n    },\n\n    \"LayeredContract\": {\n      \"Layers\": [\n        {\n          \"LayerNumber\": 1,\n          \"Cover\": 1000000,\n          \"Excess\": 1000000,\n          \"EstimatedPremiumIncome\": 300000,\n          \"MinimumPremium\": 280000,\n          \"DepositPremium\": 280000,\n          ''TotalGrossPremium'': 280000,\n          \"PremiumRate\": 3.5,\n          \"PremiumType\": \"Fixed Rate\",\n          \"Offer\": 100,\n          \"Written\": 90,\n          \"NumberOfInstalments\": 2,\n          \"InstalmentType\": \"In Advance\",\n          \"SubjectPremiumIncome\": 300000,\n          \"Adjustments\": {\n            \"FirstPeriod\": \"180 days\",\n            \"NumberOfAdjustments\": 1\n          },\n          \"Reinstatements\": {\n            \"CurrencyType\": \"Currency of Premium\",\n            \"CalculationRule\": \"Per Loss\",\n            \"ReinstatementsType\": \"Specific\",\n            \"PaymentRule\": \"Pro Rata Amount\",\n            \"AmountPercentage\": 100,\n            \"NumberOfReinstatements\": 2\n          }\n        },\n        {\n          \"LayerNumber\": 2,\n          \"Cover\": 3000000,\n          \"Excess\": 2000000,\n          \"EstimatedPremiumIncome\": 350000,\n          \"MinimumPremium\": 340000,\n          \"DepositPremium\": 340000,\n          ''TotalGrossPremium'': 340000,\n          \"PremiumRate\": 3.75,\n          \"PremiumType\": \"Fixed Rate\",\n          \"Offer\": 100,\n          \"Written\": 90,\n          \"NumberOfInstalments\": 2,\n          \"InstalmentType\": \"In Advance\",\n          \"SubjectPremiumIncome\": 350000,\n          \"Adjustments\": {\n            \"FirstPeriod\": \"180 days\",\n            \"NumberOfAdjustments\": 1\n          },\n          \"Reinstatements\": {\n            \"CurrencyType\": \"Currency of Premium\",\n            \"CalculationRule\": \"Per Loss\",\n            \"ReinstatementsType\": \"Specific\",\n            \"PaymentRule\": \"Pro Rata Amount\",\n            \"AmountPercentage\": 100,\n            \"NumberOfReinstatements\": 2\n          }\n        }\n      ]\n    },\n\n    \"LayeredWithSectionsContract\": {\n      \"Layers\": [\n        {\n          \"LayerNumber\": 1,\n          \"Cover\": 2000000,\n          \"Excess\": 1000000,\n          \"EstimatedPremiumIncome\": 400000,\n          \"MinimumPremium\": 390000,\n          \"DepositPremium\": 390000,\n          ''TotalGrossPremium'': 340000,\n          \"PremiumRate\": 4.25,\n          \"PremiumType\": \"Fixed Rate\",\n          \"Offer\": 100,\n          \"Written\": 95,\n          \"NumberOfInstalments\": 2,\n          \"InstalmentType\": \"In Advance\",\n          \"SubjectPremiumIncome\": 400000,\n          \"Adjustments\": {\n            \"FirstPeriod\": \"180 days\",\n            \"NumberOfAdjustments\": 1\n          },\n          \"Reinstatements\": {\n            \"CurrencyType\": \"Currency of Premium\",\n            \"CalculationRule\": \"Per Loss\",\n            \"ReinstatementsType\": \"Specific\",\n            \"PaymentRule\": \"Pro Rata Amount\",\n            \"AmountPercentage\": 100,\n            \"NumberOfReinstatements\": 2\n          },\n          \"CoverageSections\": [\n            {\n              \"SectionName\": \"Section A – Fire\",\n              \"MainClass\": [\"Property\"],\n              \"Class\": [\"Fire Industrial\", \"General Liability\"],\n              \"Countries\": [\"France\", \"Germany\"],\n              \"CountryGroups\": [\"Worldwide\"],\n              \"Cover\": 1000000,\n              \"Excess\": 500000,\n              \"MinimumPremium\": 200000,\n              \"DepositPremium\": 200000,\n             ''TotalGrossPremium'': 200000,\n              \"PremiumRate\": 4,\n              \"PremiumType\": \"Fixed Rate\",\n              \"Commission\": 10,\n              \"Offer\": 100,\n              \"Written\": 95,\n             \"CessionBasis\": \"Risk Attaching\",\n             \"CashClaimLimit\": 250000\n            },\n            {\n              \"SectionName\": \"Section B – Flood\",\n              \"MainClass\": [\"Property\"],\n              \"Class\": [\"Fire Industrial\", \"General Liability\"],\n              \"Countries\": [\"France\", \"Germany\"],\n              \"CountryGroups\": [\"Worldwide\"],\n              \"Cover\": 1000000,\n              \"Excess\": 500000,\n              \"MinimumPremium\": 190000,\n              \"DepositPremium\": 190000,\n             ''TotalGrossPremium'': 190000,\n              \"PremiumRate\": 4.5,\n              \"PremiumType\": \"Fixed Rate\",\n              \"Commission\": 10,\n              \"Offer\": 100,\n              \"Written\": 95,\n             \"CessionBasis\": \"Risk Attaching\",\n             \"CashClaimLimit\": 250000\n            }\n          ]\n        }\n      ]\n    }\n  }\n}",
      "comment": null
    },
    {
      "title": "_links",
      "body": "\n_links: {\n  \"/GeneralInformation/ContractName\": { \"page\": 3, \"text\": \"Motor Excess of Loss Reinsurance\" },\n  \"/GeneralInformation/MainClass\": { \"page\": 3, \"text\": \"Motor\" },\n  \"/GeneralInformation/Class\": { \"page\": 3, \"text\": \"Motor Liability\" },\n  \"/GeneralInformation/SubClass\": { \"page\": 1, \"text\": \"Sub-Class: ...\" },\n  \"/GeneralInformation/UnderwritingYear\": { \"page\": 1, \"text\": \"Underwriting Year: 2023\" },\n  \"/GeneralInformation/PeriodStart\": { \"page\": 2, \"text\": \"Incepting on the: 1st January 2023\" },\n  \"/GeneralInformation/PeriodEnd\": { \"page\": 2, \"text\": \"Expiring on the: 31st December 2023\" },\n  \"/GeneralInformation/Currency\": { \"page\": 1, \"text\": \"Currency: GBP\" },\n  \"/GeneralInformation/TypeOfParticipation\": { \"page\": 3, \"text\": \"Excess of Loss\" },\n  \"/GeneralInformation/BusinessType\": { \"page\": 3, \"text\": \"Non-Prop Treaty\" },\n  \"/GeneralInformation/Reinsurer\": { \"page\": 1, \"text\": \"Reinsurer: AXIS Re\" },\n  \"/GeneralInformation/Countries\": { \"page\": 1, \"text\": \"Territory: ...\" },\n  \"/GeneralInformation/CountryGroups\": { \"page\": 1, \"text\": \"Country Group: ...\" },\n  \"/GeneralInformation/Cedent\": { \"page\": 1, \"text\": \"Cedent: ...\" },\n  \"/GeneralInformation/Insured\": { \"page\": 1, \"text\": \"Insured: ...\" },\n  \"/GeneralInformation/Broker\": { \"page\": 1, \"text\": \"Broker: ...\" },\n  \"/GeneralInformation/ReportingUnits\": { \"page\": 1, \"text\": \"Reporting Unit(s): ...\" },\n\n  \"/Limits/Liability\": { \"page\": 1, \"text\": \"Liability: GBP 10,000,000\" },\n  \"/Limits/MainLimit\": { \"page\": 1, \"text\": \"Main Limit: GBP 10,000,000\" },\n  \"/Limits/TotalSumInsured\": { \"page\": 1, \"text\": \"Total Sum Insured: GBP ...\" },\n  \"/Limits/Cover\": { \"page\": 1, \"text\": \"Limit of GBP 10,000,000\" },\n  \"/Limits/Excess\": { \"page\": 1, \"text\": \"Excess of GBP 1,000,000\" },\n\n  \"/Premium/EstimatedPremiumIncome\": { \"page\": 1, \"text\": \"Estimated Premium Income: ...\" },\n  \"/Premium/MinimumPremium\": { \"page\": 1, \"text\": \"Minimum premium: EUR 10,000,000\" },\n  \"/Premium/DepositPremium\": { \"page\": 1, \"text\": \"Flat premium of EUR 10,000,000\" },\n  \"/Premium/SubjectPremiumIncome\": { \"page\": 1, \"text\": \"Subject premium income: ...\" },\n  \"/Premium/PremiumRate\": { \"page\": 1, \"text\": \"Premium rate: 2.5%\" },\n  \"/Premium/PremiumType\": { \"page\": 1, \"text\": \"Premium type: Fixed Rate\" },\n  \"/Premium/RateOfExchange\": { \"page\": 1, \"text\": \"Rate of exchange: ...\" },\n  \"/Premium/TotalGrossPremium\": { \"page\": 1, \"text\": \"Total gross premium: ...\" },\n\n \"/Share/Offer\": { \"page\": 1, \"text\": \"Offer: 100%\" },\n  \"/Share/Written\": { \"page\": 1, \"text\": \"Written Line: 85%\" },\n\n  \"/Claims/ClaimBasis\": { \"page\": 3, \"text\": \"Claim Basis: Follow the settlements of the Reinsured (ex-gratia excluded).\" },\n  \"/Claims/ClaimAdviceLimit\": { \"page\": 3, \"text\": \"Claim Advice Limit: USD 250,000\" },\n  \"/AdminConditions/CessionBasis\": { \"page\": 2, \"text\": \"Cession Basis: Risk Attaching during the period.\" },\n  \"/AdminConditions/CashClaimLimit\": { \"page\": 2, \"text\": \"Cash Claim Limit: EUR 1,000,000\" }\n\n  \"/OtherConditions/CancellationTerms\": { \"page\": 4, \"text\": \"Notice of Cancellation: 3 Days\" },\n  \"/OtherConditions/NOCPeriod\": { \"page\": 4, \"text\": \"Notice of Cancellation: 3 Days\" },\n  \"/OtherConditions/PremiumPaymentWarranty\": { \"page\": 4, \"text\": \"Premium Payment Warranty (PPW): 30 Days\" },\n  \"/OtherConditions/PPWPeriod\": { \"page\": 4, \"text\": \"Premium Payment Warranty (PPW): 30 Days\" },\n\n  \"/OtherConditions/InclusionClauses/1\": { \"page\": 6, \"text\": \"Intermediary Clause\" },\n  \"/OtherConditions/ExclusionClauses/1\": { \"page\": 6, \"text\": \"Nuclear Risks Exclusion\" }\n\n \"/Instalments/NumberOfInstalments\": { \"page\": X, \"text\": \"Payable in 4 equal instalments\" },\n \"/Instalments/InstalmentType\": { \"page\": X, \"text\": \"Payable in advance\" },\n\n \"/Adjustments/FirstPeriod\": { \"page\": X, \"text\": \"Premium adjustments shall be made no later than 1 July 2024\" },\n \"/Adjustments/NumberOfAdjustments\": { \"page\": X, \"text\": \"One adjustment\" },\n\n \"/Reinstatements/ReinstatementsType\": { \"page\": X, \"text\": \"Unlimited reinstatements allowed\" },\n \"/Reinstatements/NumberOfReinstatements\": { \"page\": X, \"text\": \"One reinstatement\" },\n \"/Reinstatements/AmountPercentage\": { \"page\": X, \"text\": \"100%\" },\n \"/Reinstatements/PaymentRule\": { \"page\": X, \"text\": \"Pro rata as to amount\" },\n \"/Reinstatements/CurrencyType\": { \"page\": X, \"text\": \"Currency of Premium\" },\n \"/Reinstatements/CalculationRule\": { \"page\": X, \"text\": \"Per Loss\" },\n\n\n  \"/CoverageSections/1/SectionName\": { \"page\": 3, \"text\": \"Section I – Accident\" },\n  \"/CoverageSections/1/MainClass\": { \"page\": 3, \"text\": \"Section I – Accident\" },\n  \"/CoverageSections/1/SubClass\": { \"page\": 1, \"text\": \"Sub-Class: ...\" },\n  \"/CoverageSections/1/Class\": { \"page\": 3, \"text\": \"Covered classes include Fire Industrial and General Liability.\" },\n  \"/CoverageSections/1/Countries\": { \"page\": 3, \"text\": \"This section applies to risks in France and Germany.\" },\n  \"/CoverageSections/1/CountryGroups\": { \"page\": 3, \"text\": \"Applicable to Europe countries.\" },\n  \"/CoverageSections/1/Cover\": { \"page\": 3, \"text\": \"Cover: USD 5,000,000\" },\n  \"/CoverageSections/1/Excess\": { \"page\": 3, \"text\": \"Excess: USD 1,000,000\" },\n  \"/CoverageSections/1/Liability\": { \"page\": 3, \"text\": \"Liability: USD 5,000,000\" },\n  \"/CoverageSections/1/MainLimit\": { \"page\": 3, \"text\": \"Main limit: USD 5,000,000\" },\n  \"/CoverageSections/1/TotalSumInsured\": { \"page\": 3, \"text\": \"Total sum insured: USD 10,000,000\" },\n  \"/CoverageSections/1/EstimatedPremiumIncome\": { \"page\": 4, \"text\": \"Estimated premium: USD 300,000\" },\n  \"/CoverageSections/1/MinimumPremium\": { \"page\": 3, \"text\": \"Minimum premium: USD 200,000\" },\n  \"/CoverageSections/1/DepositPremium\": { \"page\": 3, \"text\": \"Deposit premium: USD 200,000\" },\n  \"/CoverageSections/1/PremiumRate\": { \"page\": 3, \"text\": \"Premium rate: 4%\" },\n  \"/CoverageSections/1/PremiumType\": { \"page\": 3, \"text\": \"Premium type: Fixed Rate\" },\n  \"/CoverageSections/1/SubjectPremiumIncome\": { \"page\": 3, \"text\": \"Subject premium: USD 500,000\" },\n  \"/CoverageSections/1/Commission\": { \"page\": 3, \"text\": \"Commission: 5%\" },\n  \"/CoverageSections/1/Offer\": { \"page\": 3, \"text\": \"Offer: 100%\" },\n  \"/CoverageSections/1/Written\": { \"page\": 3, \"text\": \"Written: 100%\" },\n  \"/CoverageSections/1/NumberOfInstalments\": { \"page\": 3, \"text\": \"2 instalments\" },\n  \"/CoverageSections/1/InstalmentType\": { \"page\": 3, \"text\": \"In Arrears\" },\n  \"/CoverageSections/1/CessionBasis\": { \"page\": 3, \"text\": \"Cession Basis: Risk Attaching\" },\n  \"/CoverageSections/1/CashClaimLimit\": { \"page\": 3, \"text\": \"Maximum cash settlement: EUR 250,000\" },\n\n\n  \"/CoverageSections/2/SectionName\": { \"page\": 4, \"text\": \"Section II – Flood\" },\n  \"/CoverageSections/2/MainClass\": { \"page\": 3, \"text\": \"Section I – Property\" },\n  \"/CoverageSections/2/Class\": { \"page\": 3, \"text\": \"Property.\" },\n  \"/CoverageSections/2/SubClass\": { \"page\": 1, \"text\": \"Sub-Class: ...\" },\n  \"/CoverageSections/2/Countries\": { \"page\": 3, \"text\": \"This section applies to risks in France and Germany.\" },\n  \"/CoverageSections/2/CountryGroups\": { \"page\": 3, \"text\": \"Applicable to Europe countries.\" },\n  \"/CoverageSections/2/Cover\": { \"page\": 4, \"text\": \"Cover: USD 3,000,000\" },\n  \"/CoverageSections/2/Excess\": { \"page\": 4, \"text\": \"Excess: USD 500,000\" },\n  \"/CoverageSections/2/Liability\": { \"page\": 4, \"text\": \"Liability: USD 3,000,000\" },\n  \"/CoverageSections/2/MainLimit\": { \"page\": 4, \"text\": \"Main limit: USD 3,000,000\" },\n  \"/CoverageSections/2/TotalSumInsured\": { \"page\": 4, \"text\": \"Total sum insured: USD 6,000,000\" },\n  \"/CoverageSections/2/EstimatedPremiumIncome\": { \"page\": 4, \"text\": \"Estimated premium: USD 300,000\" },\n  \"/CoverageSections/2/MinimumPremium\": { \"page\": 4, \"text\": \"Minimum premium: USD 150,000\" },\n  \"/CoverageSections/2/DepositPremium\": { \"page\": 4, \"text\": \"Deposit premium: USD 150,000\" },\n  \"/CoverageSections/2/PremiumRate\": { \"page\": 4, \"text\": \"Premium rate: 5%\" },\n  \"/CoverageSections/2/PremiumType\": { \"page\": 4, \"text\": \"Premium type: Fixed Rate\" },\n  \"/CoverageSections/2/SubjectPremiumIncome\": { \"page\": 4, \"text\": \"Subject premium: USD 300,000\" },\n  \"/CoverageSections/2/Commission\": { \"page\": 3, \"text\": \"Commission: 5%\" },\n  \"/CoverageSections/2/Offer\": { \"page\": 4, \"text\": \"Offer: 100%\" },\n  \"/CoverageSections/2/Written\": { \"page\": 4, \"text\": \"Written: 100%\" },\n  \"/CoverageSections/2/NumberOfInstalments\": { \"page\": 4, \"text\": \"2 instalments\" },\n  \"/CoverageSections/2/InstalmentType\": { \"page\": 4, \"text\": \"In Arrears\" },\n  \"/CoverageSections/2/CessionBasis\": { \"page\": 4, \"text\": \"Cession Basis: Original Conditions\" },\n  \"/CoverageSections/2/CashClaimLimit\": { \"page\": 4, \"text\": \"No specific cash limit is defined.\" },\n\n\n  \"/Layers/1/Cover\": { \"page\": 4, \"text\": \"Limit of GBP 3,000,000\" },\n  \"/Layers/1/Excess\": { \"page\": 4, \"text\": \"Excess of GBP 2,000,000\" },\n  \"/Layers/1/EstimatedPremiumIncome\": { \"page\": 2, \"text\": \"Estimated premium: ...\" },\n  \"/Layers/1/MinimumPremium\": { \"page\": 2, \"text\": \"Layer 1: EUR 181,760\" },\n  \"/Layers/1/DepositPremium\": { \"page\": 2, \"text\": \"Layer 1: EUR 181,760\" },\n  \"/Layers/1/PremiumRate\": { \"page\": 2, \"text\": \"Layer 1 premium rate: 2.84%\" },\n  \"/Layers/1/PremiumType\": { \"page\": 2, \"text\": \"Layer 1 premium type: Fixed Rate\" },\n  \"/Layers/1/Offer\": { \"page\": 2, \"text\": \"Offer 100%\" },\n  \"/Layers/1/Written\": { \"page\": 2, \"text\": \"Written Line 85%\" },\n  \"/Layers/1/NumberOfInstalments\": { \"page\": 2, \"text\": \"Payable in 4 equal instalments payable in advance\" },\n  \"/Layers/1/InstalmentType\": { \"page\": 2, \"text\": \"In Advance\" },\n  \"/Layers/1/SubjectPremiumIncome\": { \"page\": 2, \"text\": \"Subject premium: ...\" },\n  \"/Layers/1/Adjustments/FirstPeriod\": { \"page\": 6, \"text\": \"The first adjustment for Layer 1 shall occur no later than 01 July 2016.\" },\n  \"/Layers/1/Adjustments/NumberOfAdjustments\": { \"page\": 6, \"text\": \"One adjustment is foreseen per layer.\" },\n  \"/Layers/1/Reinstatements/CurrencyType\": { \"page\": 2, \"text\": \"Currency of Premium\" },\n  \"/Layers/1/Reinstatements/CalculationRule\": { \"page\": 2, \"text\": \"Per Loss\" },\n  \"/Layers/1/Reinstatements/ReinstatementsType\": { \"page\": 2, \"text\": \"Specific\" },\n  \"/Layers/1/Reinstatements/PaymentRule\": { \"page\": 2, \"text\": \"Pro Rata Amount\" },\n  \"/Layers/1/Reinstatements/AmountPercentage\": { \"page\": 2, \"text\": \"100%\" },\n  \"/Layers/1/Reinstatements/NumberOfReinstatements\": { \"page\": 2, \"text\": \"2 times at 100%\" },\n\n  \"/Layers/2/Cover\": { \"page\": 4, \"text\": \"Limit of GBP 5,000,000\" },\n  \"/Layers/2/Excess\": { \"page\": 4, \"text\": \"Excess of GBP 5,000,000\" },\n  \"/Layers/2/MinimumPremium\": { \"page\": 2, \"text\": \"Layer 2: EUR 42,240\" },\n  \"/Layers/2/DepositPremium\": { \"page\": 2, \"text\": \"Layer 2: EUR 42,240\" },\n  \"/Layers/2/PremiumRate\": { \"page\": 2, \"text\": \"Layer 2 premium rate: 0.66%\" },\n  \"/Layers/2/PremiumType\": { \"page\": 2, \"text\": \"Layer 2 premium type: Fixed Rate\" },\n  \"/Layers/2/Offer\": { \"page\": 2, \"text\": \"Offer 100%\" },\n  \"/Layers/2/Written\": { \"page\": 2, \"text\": \"Written Line 85%\" },\n  \"/Layers/2/NumberOfInstalments\": { \"page\": 2, \"text\": \"Payable in 4 equal instalments payable in advance\" },\n  \"/Layers/2/InstalmentType\": { \"page\": 2, \"text\": \"In Advance\" },\n  \"/Layers/2/Adjustments/FirstPeriod\": { \"page\": 6, \"text\": \"The first adjustment for Layer 2 shall occur no later than 01 July 2016.\" },\n  \"/Layers/2/Adjustments/NumberOfAdjustments\": { \"page\": 6, \"text\": \"One adjustment is foreseen per layer.\" },\n  \"/Layers/2/Reinstatements/CurrencyType\": { \"page\": 2, \"text\": \"Currency of Premium\" },\n  \"/Layers/2/Reinstatements/CalculationRule\": { \"page\": 2, \"text\": \"Per Loss\" },\n  \"/Layers/2/Reinstatements/ReinstatementsType\": { \"page\": 2, \"text\": \"Specific\" },\n  \"/Layers/2/Reinstatements/PaymentRule\": { \"page\": 2, \"text\": \"Pro Rata Amount\" },\n  \"/Layers/2/Reinstatements/AmountPercentage\": { \"page\": 2, \"text\": \"100%\" },\n  \"/Layers/2/Reinstatements/NumberOfReinstatements\": { \"page\": 2, \"text\": \"2 times at 100%\" },\n\n  \"/Layers/3/Cover\": { \"page\": 5, \"text\": \"Limit of GBP 15,000,000\" },\n  \"/Layers/3/Excess\": { \"page\": 5, \"text\": \"Excess of GBP 10,000,000\" },\n  \"/Layers/3/MinimumPremium\": { \"page\": 2, \"text\": \"Layer 3: EUR 8,873,160\" },\n  \"/Layers/3/DepositPremium\": { \"page\": 2, \"text\": \"Layer 3: EUR 8,873,160\" },\n  \"/Layers/3/PremiumRate\": { \"page\": 2, \"text\": \"Layer 3 premium rate: 4.38%\" },\n  \"/Layers/3/PremiumType\": { \"page\": 2, \"text\": \"Layer 3 premium type: Fixed Rate\" },\n  \"/Layers/3/Offer\": { \"page\": 2, \"text\": \"Offer 100%\" },\n  \"/Layers/3/Written\": { \"page\": 2, \"text\": \"Written Line 85%\" },\n  \"/Layers/3/NumberOfInstalments\": { \"page\": 2, \"text\": \"Payable in 4 equal instalments payable in advance\" },\n  \"/Layers/3/InstalmentType\": { \"page\": 2, \"text\": \"In Advance\" },\n  \"/Layers/3/Adjustments/FirstPeriod\": { \"page\": 6, \"text\": \"The first adjustment for Layer 3 shall occur no later than 01 July 2016.\" },\n  \"/Layers/3/Adjustments/NumberOfAdjustments\": { \"page\": 6, \"text\": \"One adjustment is foreseen per layer.\" },\n  \"/Layers/3/Reinstatements/CurrencyType\": { \"page\": 2, \"text\": \"Currency of Premium\" },\n  \"/Layers/3/Reinstatements/CalculationRule\": { \"page\": 2, \"text\": \"Per Loss\" },\n  \"/Layers/3/Reinstatements/ReinstatementsType\": { \"page\": 2, \"text\": \"Specific\" },\n  \"/Layers/3/Reinstatements/PaymentRule\": { \"page\": 2, \"text\": \"Pro Rata Amount\" },\n  \"/Layers/3/Reinstatements/AmountPercentage\": { \"page\": 2, \"text\": \"100%\" },\n  \"/Layers/3/Reinstatements/NumberOfReinstatements\": { \"page\": 2, \"text\": \"2 times at 100%\" },\n\n  \"/Layers/4/Cover\": { \"page\": 5, \"text\": \"Limit of GBP 999,999,999\" },\n  \"/Layers/4/Excess\": { \"page\": 5, \"text\": \"Excess of GBP 25,000,000\" },\n  \"/Layers/4/MinimumPremium\": { \"page\": 2, \"text\": \"Layer 4: EUR 2,398,150\" },\n  \"/Layers/4/DepositPremium\": { \"page\": 2, \"text\": \"Layer 4: EUR 2,398,150\" },\n  \"/Layers/4/PremiumRate\": { \"page\": 2, \"text\": \"Layer 4 premium rate: 9.74%\" },\n  \"/Layers/4/PremiumType\": { \"page\": 2, \"text\": \"Layer 4 premium type: Fixed Rate\" },\n  \"/Layers/4/Offer\": { \"page\": 2, \"text\": \"Offer 100%\" },\n  \"/Layers/4/Written\": { \"page\": 2, \"text\": \"Written Line 85%\" },\n  \"/Layers/4/NumberOfInstalments\": { \"page\": 2, \"text\": \"Payable in 4 equal instalments payable in advance\" },\n  \"/Layers/4/InstalmentType\": { \"page\": 2, \"text\": \"In Advance\" },\n  \"/Layers/4/Adjustments/FirstPeriod\": { \"page\": 6, \"text\": \"The first adjustment for Layer 4 shall occur no later than 01 July 2016.\" },\n  \"/Layers/4/Adjustments/NumberOfAdjustments\": { \"page\": 6, \"text\": \"One adjustment is foreseen per layer.\" },\n  \"/Layers/4/Reinstatements/CurrencyType\": { \"page\": 2, \"text\": \"Currency of Premium\" },\n  \"/Layers/4/Reinstatements/CalculationRule\": { \"page\": 2, \"text\": \"Per Loss\" },\n  \"/Layers/4/Reinstatements/ReinstatementsType\": { \"page\": 2, \"text\": \"Specific\" },\n  \"/Layers/4/Reinstatements/PaymentRule\": { \"page\": 2, \"text\": \"Pro Rata Amount\" },\n  \"/Layers/4/Reinstatements/AmountPercentage\": { \"page\": 2, \"text\": \"100%\" },\n  \"/Layers/4/Reinstatements/NumberOfReinstatements\": { \"page\": 2, \"text\": \"2 times at 100%\" },\n\n  \"/Layers/5/Cover\": { \"page\": 5, \"text\": \"Limit of GBP 10,999,999\" },\n  \"/Layers/5/Excess\": { \"page\": 5, \"text\": \"Excess of GBP 5,000,000\" },\n  \"/Layers/5/MinimumPremium\": { \"page\": 2, \"text\": \"Layer 5: EUR 100,000\" },\n  \"/Layers/5/DepositPremium\": { \"page\": 2, \"text\": \"Layer 5: EUR 100,000\" },\n  \"/Layers/5/PremiumRate\": { \"page\": 2, \"text\": \"Layer 5 premium rate: 6.74%\" },\n  \"/Layers/5/PremiumType\": { \"page\": 2, \"text\": \"Layer 5 premium type: Fixed Rate\" },\n  \"/Layers/5/Offer\": { \"page\": 2, \"text\": \"Offer 100%\" },\n  \"/Layers/5/Written\": { \"page\": 2, \"text\": \"Written Line 85%\" },\n  \"/Layers/5/NumberOfInstalments\": { \"page\": 2, \"text\": \"Payable in 4 equal instalments payable in advance\" },\n  \"/Layers/5/InstalmentType\": { \"page\": 2, \"text\": \"In Advance\" },\n  \"/Layers/5/Adjustments/FirstPeriod\": { \"page\": 6, \"text\": \"The first adjustment for Layer 5 shall occur no later than 01 July 2016.\" },\n  \"/Layers/5/Adjustments/NumberOfAdjustments\": { \"page\": 6, \"text\": \"One adjustment is foreseen per layer.\" },\n  \"/Layers/5/Reinstatements/CurrencyType\": { \"page\": 2, \"text\": \"Currency of Premium\" },\n  \"/Layers/5/Reinstatements/CalculationRule\": { \"page\": 2, \"text\": \"Per Loss\" },\n  \"/Layers/5/Reinstatements/ReinstatementsType\": { \"page\": 2, \"text\": \"Specific\" },\n  \"/Layers/5/Reinstatements/PaymentRule\": { \"page\": 2, \"text\": \"Pro Rata Amount\" },\n  \"/Layers/5/Reinstatements/AmountPercentage\": { \"page\": 2, \"text\": \"100%\" },\n  \"/Layers/5/Reinstatements/NumberOfReinstatements\": { \"page\": 2, \"text\": \"2 times at 100%\" },\n\n \"/Layers/1/CoverageSections/1/SectionName\": { \"page\": 6, \"text\": \"Section A – Fire\" },\n  \"/Layers/1/CoverageSections/1/MainClass\": { \"page\": 3, \"text\": \"Section I – Fire: Main Class – Property\" },\n  \"/Layers/1/CoverageSections/1/Class\": { \"page\": 3, \"text\": \"Covered classes include Fire Industrial and General Liability.\" },\n  \"/Layers/1/CoverageSections/1/SubClass\": { \"page\": 1, \"text\": \"Sub-Class: ...\" },\n  \"/Layers/1/CoverageSections/1/Countries\": { \"page\": 3, \"text\": \"This section applies to risks in France and Germany.\" },\n  \"/Layers/1/CoverageSections/1/CountryGroups\": { \"page\": 3, \"text\": \"Applicable to Europe countries.\" },\n  \"/Layers/1/CoverageSections/1/Cover\": { \"page\": 6, \"text\": \"Cover: USD 1,000,000\" },\n  \"/Layers/1/CoverageSections/1/Excess\": { \"page\": 6, \"text\": \"Excess: USD 500,000\" },\n  \"/Layers/1/CoverageSections/1/DepositPremium\": { \"page\": 6, \"text\": \"Deposit premium: USD 200,000\" },\n  \"/Layers/1/CoverageSections/1/PremiumRate\": { \"page\": 6, \"text\": \"Premium rate: 4%\" },\n  \"/Layers/1/CoverageSections/1/Commission\": { \"page\": 3, \"text\": \"Commission: 5%\" },\n  \"/Layers/1/CoverageSections/1/Offer\": { \"page\": 6, \"text\": \"Offer: 100%\" },\n  \"/Layers/1/CoverageSections/1/Written\": { \"page\": 6, \"text\": \"Written: 95%\" },\n  \"/Layers/1/CoverageSections/1/CessionBasis\": { \"page\": 6, \"text\": \"Cession Basis: Risk Attaching\" },\n  \"/Layers/1/CoverageSections/1/CashClaimLimit\": { \"page\": 6, \"text\": \"Maximum cash settlement: EUR 250,000\" },\n  \"/Layers/1/CoverageSections/1/Reinstatements/ReinstatementsType\": { \"page\": 6, \"text\": \"Specific\" },\n  \"/Layers/1/CoverageSections/1/Reinstatements/NumberOfReinstatements\": { \"page\": 6, \"text\": \"2\" },\n  \"/Layers/1/CoverageSections/1/Reinstatements/AmountPercentage\": { \"page\": 6, \"text\": \"100%\" },\n  \"/Layers/1/CoverageSections/1/Reinstatements/PaymentRule\": { \"page\": 6, \"text\": \"Pro Rata Amount\" },\n  \"/Layers/1/CoverageSections/1/Reinstatements/CurrencyType\": { \"page\": 6, \"text\": \"Currency of Premium\" },\n  \"/Layers/1/CoverageSections/1/Reinstatements/CalculationRule\": { \"page\": 6, \"text\": \"Per Loss\" },\n\n  \"/Layers/1/CoverageSections/2/SectionName\": { \"page\": 6, \"text\": \"Section B – Flood\" },\n  \"/Layers/1/CoverageSections/2/MainClass\": { \"page\": 6, \"text\": \"Main Class – Property\" },\n  \"/Layers/1/CoverageSections/2/SubClass\": { \"page\": 1, \"text\": \"Sub-Class: ...\" },\n  \"/Layers/1/CoverageSections/2/Class\": { \"page\": 6, \"text\": \"Covered classes include Fire Industrial and General Liability.\" },\n  \"/Layers/1/CoverageSections/2/Countries\": { \"page\": 6, \"text\": \"This section applies to risks in France and Germany.\" },\n  \"/Layers/1/CoverageSections/2/CountryGroups\": { \"page\": 6, \"text\": \"Applicable to Europe countries.\" },\n  \"/Layers/1/CoverageSections/2/Cover\": { \"page\": 6, \"text\": \"Cover: USD 1,000,000\" },\n  \"/Layers/1/CoverageSections/2/Excess\": { \"page\": 6, \"text\": \"Excess: USD 500,000\" },\n  \"/Layers/1/CoverageSections/2/DepositPremium\": { \"page\": 6, \"text\": \"Deposit premium: USD 190,000\" },\n  \"/Layers/1/CoverageSections/2/PremiumRate\": { \"page\": 6, \"text\": \"Premium rate: 4.5%\" },\n  \"/Layers/1/CoverageSections/2/Commission\": { \"page\": 6, \"text\": \"Commission: 5%\" },\n  \"/Layers/1/CoverageSections/2/Offer\": { \"page\": 6, \"text\": \"Offer: 100%\" },\n  \"/Layers/1/CoverageSections/2/Written\": { \"page\": 6, \"text\": \"Written: 95%\" },\n  \"/Layers/1/CoverageSections/2/CessionBasis\": { \"page\": 6, \"text\": \"Original Conditions\" },\n  \"/Layers/1/CoverageSections/2/CashClaimLimit\": { \"page\": 6, \"text\": \"...\" },\n  \"/Layers/1/CoverageSections/2/Reinstatements/ReinstatementsType\": { \"page\": 6, \"text\": \"Specific\" },\n  \"/Layers/1/CoverageSections/2/Reinstatements/NumberOfReinstatements\": { \"page\": 6, \"text\": \"2\" },\n  \"/Layers/1/CoverageSections/2/Reinstatements/AmountPercentage\": { \"page\": 6, \"text\": \"100%\" },\n  \"/Layers/1/CoverageSections/2/Reinstatements/PaymentRule\": { \"page\": 6, \"text\": \"Pro Rata Amount\" },\n  \"/Layers/1/CoverageSections/2/Reinstatements/CurrencyType\": { \"page\": 6, \"text\": \"Currency of Premium\" },\n  \"/Layers/1/CoverageSections/2/Reinstatements/CalculationRule\": { \"page\": 6, \"text\": \"Per Loss\" }\n}\n</examples>",
      "comment": null
    },
    {
      "title": "<restrictions>",
      "body": "\n<restrictions>\nExtract data strictly from the provided contract document — do not invent or infer values. Fields must contain only plain extracted values.\n\nNEVER skip any field defined in the JSON schema. If a value is missing or unclear, return `null`. The JSON must always include all defined fields, even if no value is found.\n\nDo not create Layers unless the document explicitly contains headings with the word “Layer” or ordinal indicators such as “1st Excess”, “2nd Excess”, etc. Avoid false positives like “N5M Xs N3M” unless marked as a layer.\n\nDo not create CoverageSections unless:\n\n• The section is clearly labeled (e.g., “Section I – Property”, “Section A”, “Section 1”);\n• OR the document defines multiple risk classes (such as CAR, EAR, PAR, EEI, MI), each with its own financial values (e.g., retention, limit, premium). These functionally represent separate scopes of coverage and must be extracted as individual CoverageSections.\n\nIn both cases, each section must contain its own Cover, Excess, or premium-related values. Generic sections like “Scope”, “General Conditions”, or “Definitions” must be ignored.\n\nDo not extract CoverageSections for generic contract headings such as “Scope”, “Definitions”, “Terms”, “Conditions”, or “General Provisions”.\nCoverageSections may also be formed when the document lists multiple distinct classes of risk (e.g., CAR, EAR, PAR, EEI, MI), and each class includes its own Retention, Cession/Limit, Premium, or other financial terms.\n\nThese risk classes must be treated as valid CoverageSections even if they are not introduced by headings like “Section A” or “Section I”.\n\nIn such cases:\n– Use the exact class name as the SectionName (e.g., “Contractors’ All Risks (CAR)”).\n– Extract Cover from the Cession value.\n– Extract Excess from the Retention value.\n– Extract DepositPremium, EstimatedPremiumIncome, or MinimumPremium if available.\n– Ensure full traceability for each value in the _links block.\n\nIf both Layers and CoverageSections are present:\n- Nest CoverageSections inside each Layer (use `/Layers/{i}/CoverageSections[]`).\n- Do not return top-level CoverageSections in this case.\n\nIf the contract only includes sections (with no Layers):\n- Return a top-level array `CoverageSections[]`.\n\nNever return both top-level `Layers[]` and top-level `CoverageSections[]` simultaneously unless explicitly stated in the document structure.\n\nAlways match the number of CoverageSections to the actual sections found in the document. Do not invent or infer. Section names must be clearly defined in the text (e.g., “Section I: Property”).\n\nWhen using Treaty Limit as Section Liability, do so only when no more precise per-section value exists and the document is not layered.\n\nFor Deposit and Minimum Premiums:\n- Extract numeric values if a section or heading contains “Deposit Premium”, “Minimum Premium”, or both.\n- Assign extracted values to the appropriate Layer or Section.\n- For combined headings (“Minimum and Deposit Premium”), assign the value to both fields.\n\nFor sublayered content (e.g., a), b), etc. under a Layer), reflect it in the numbering — e.g., Layer 5.1, 5.2, etc.\n\nExtract Offer and Written values only when clearly stated, and ensure they are always within 0–100%.\n\nExtract Instalments only if explicitly mentioned (e.g., “payable in X equal instalments”). Do not infer. Traceability for instalment fields must be recorded in `_links`.\n\nExtract Reinstatements only if the word “reinstatement” appears. Apply per-layer or replicate top-level values to all layers, depending on context. Record traceability for every reinstatement-related field in `_links`.\n\nAlways place traceability in the `_links` property using correct JSON pointer paths and verbatim excerpts. If `_links` cannot be completed due to space limits, it may be left partially filled or empty — but the rest of the JSON must remain complete and valid.\n</restrictions>\n\n\n<formatting>\nOutput only the final JSON object. Follow the JSON structure exactly as specified in the JSON scheme.\nOutput MUST include all fields defined in the JSON schema. If a value is not available, return null, but DO NOT OMIT THE FIELD. All top-level and nested fields must be preserved exactly. The number of Layers in the JSON must match the number of layers in the contract — no more, no fewer.\n</formatting>\n\n<failsafe>\nIf generation exceeds length limits or runs into memory issues, it is acceptable to return an incomplete or empty _links block. However, the main JSON must always be valid and fully structured according to the schema.\n</failsafe>\n\n<output>\nIMPORTANT:\n- If you fail to return valid JSON, the entire output will be rejected.\n- _links must only contain **verbatim** excerpts from the contract — a few sentences that contain the value.\n- If you're unsure of a value, write `null`, but do not skip fields.\n- NEVER cut off the JSON mid-output.\n</output>\n",
      "comment": null
    }
  ],
  "created_at": "2026-02-11T18:09:19.198857Z",
  "parent_id": null,
  "tags": [
    "reinsurance",
    "contract",
    "extraction",
    "ffh",
    "production"
  ]
}